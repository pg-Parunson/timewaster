<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ› ë²„ê·¸ ìˆ˜ì • í…ŒìŠ¤íŠ¸ - ì‹œê°„ë‚­ë¹„ ë§ˆìŠ¤í„°</title>
    <style>
        body {
            font-family: 'Galmuri', monospace;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        .section {
            margin: 20px 0;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .bug-status {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            margin-left: 10px;
        }
        .fixed { background: #10b981; }
        .pending { background: #f59e0b; }
        .testing { background: #3b82f6; }
        
        .test-button {
            background: #8b5cf6;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s;
        }
        .test-button:hover {
            background: #7c3aed;
            transform: translateY(-2px);
        }
        
        .log-output {
            background: #1f2937;
            color: #10b981;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            height: 200px;
            overflow-y: auto;
            margin-top: 10px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #fbbf24;
        }
        
        .stat-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ› ë²„ê·¸ ìˆ˜ì • í…ŒìŠ¤íŠ¸ ëŒ€ì‹œë³´ë“œ</h1>
        <p>ì‹œê°„ë‚­ë¹„ ë§ˆìŠ¤í„° v2.8.4 - ì•Œë ¤ì§„ ë²„ê·¸ ìˆ˜ì • í˜„í™©</p>
        
        <!-- ë²„ê·¸ ìˆ˜ì • í˜„í™© -->
        <div class="section">
            <h2>ğŸ”§ ìˆ˜ì • ì™„ë£Œëœ ë²„ê·¸</h2>
            
            <div style="margin: 10px 0;">
                <strong>1. ë™ì‹œì ‘ì†ì ë²„ê·¸</strong>
                <span class="bug-status fixed">âœ… ìˆ˜ì • ì™„ë£Œ</span>
                <ul style="margin-top: 10px;">
                    <li>statsService.jsxì— logger import ëˆ„ë½ ìˆ˜ì •</li>
                    <li>í•˜íŠ¸ë¹„íŠ¸ ê¸°ì¤€ ì‹œê°„ì„ 5ì´ˆ â†’ 10ì´ˆë¡œ ë³€ê²½ (ë” ì•ˆì •ì )</li>
                    <li>StatsBar ì»´í¬ë„ŒíŠ¸ë¥¼ statsService ì‚¬ìš©í•˜ë„ë¡ í†µí•©</li>
                </ul>
            </div>
            
            <div style="margin: 10px 0;">
                <strong>2. ëª…ì˜ˆì˜ ì „ë‹¹ ë­í‚¹ ë²„ê·¸</strong>
                <span class="bug-status fixed">âœ… ìˆ˜ì • ì™„ë£Œ</span>
                <ul style="margin-top: 10px;">
                    <li>Firebase timestamp í˜•ì‹ ì²˜ë¦¬ ë¶ˆì¼ì¹˜ ìˆ˜ì •</li>
                    <li>ê¸°ê°„ë³„ ë­í‚¹ í•„í„°ë§ ë¡œì§ ê°œì„ </li>
                    <li>ì¼ê°„/ì£¼ê°„/ì›”ê°„ ë­í‚¹ ì •í™•ë„ í–¥ìƒ</li>
                    <li>ë””ë²„ê¹… ë¡œê·¸ ì¶”ê°€ë¡œ ë¬¸ì œ ì¶”ì  ê°€ëŠ¥</li>
                </ul>
            </div>
        </div>
        
        <!-- ì‹¤ì‹œê°„ í…ŒìŠ¤íŠ¸ -->
        <div class="section">
            <h2>ğŸ§ª ì‹¤ì‹œê°„ í…ŒìŠ¤íŠ¸</h2>
            
            <div style="margin: 15px 0;">
                <button class="test-button" onclick="testConcurrentUsers()">ğŸ‘¥ ë™ì‹œì ‘ì†ì í…ŒìŠ¤íŠ¸</button>
                <button class="test-button" onclick="testRankingPeriods()">ğŸ† ë­í‚¹ ê¸°ê°„ë³„ í…ŒìŠ¤íŠ¸</button>
                <button class="test-button" onclick="testFirebaseConnection()">ğŸ”¥ Firebase ì—°ê²° í…ŒìŠ¤íŠ¸</button>
                <button class="test-button" onclick="clearLogs()">ğŸ—‘ï¸ ë¡œê·¸ ì§€ìš°ê¸°</button>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="concurrent-users">-</div>
                    <div class="stat-label">ì‹¤ì‹œê°„ ì ‘ì†ì</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="daily-ranking">-</div>
                    <div class="stat-label">ì¼ê°„ ë­í‚¹ ìˆ˜</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="firebase-status">-</div>
                    <div class="stat-label">Firebase ìƒíƒœ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="test-status">ëŒ€ê¸°ì¤‘</div>
                    <div class="stat-label">í…ŒìŠ¤íŠ¸ ìƒíƒœ</div>
                </div>
            </div>
            
            <div class="log-output" id="test-logs">
                === ë²„ê·¸ ìˆ˜ì • í…ŒìŠ¤íŠ¸ ë¡œê·¸ ===<br>
                ì‹œê°„ë‚­ë¹„ ë§ˆìŠ¤í„° ê°œë°œì ë„êµ¬ì— ì˜¤ì‹  ê±¸ í™˜ì˜í•©ë‹ˆë‹¤!<br>
                ìœ„ì˜ ë²„íŠ¼ë“¤ì„ í´ë¦­í•˜ì—¬ ìˆ˜ì •ëœ ë²„ê·¸ë¥¼ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”.<br><br>
            </div>
        </div>
        
        <!-- ê¸°ìˆ ì  ê°œì„ ì‚¬í•­ -->
        <div class="section">
            <h2>âš¡ ê¸°ìˆ ì  ê°œì„ ì‚¬í•­</h2>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <h3>ğŸ”§ ì½”ë“œ í’ˆì§ˆ ê°œì„ </h3>
                    <ul>
                        <li>ì„œë¹„ìŠ¤ ê³„ì¸µ í†µí•© (statsService, rankingService)</li>
                        <li>ì¤‘ë³µ Firebase ì—°ê²° ì œê±°</li>
                        <li>íƒ€ì… ì•ˆì „ì„± í–¥ìƒ</li>
                        <li>ì—ëŸ¬ í•¸ë“¤ë§ ê°•í™”</li>
                    </ul>
                </div>
                <div>
                    <h3>ğŸ“Š ì„±ëŠ¥ ìµœì í™”</h3>
                    <ul>
                        <li>ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ì£¼ê¸° ìµœì í™”</li>
                        <li>ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€</li>
                        <li>Firebase ì¿¼ë¦¬ íš¨ìœ¨ì„± í–¥ìƒ</li>
                        <li>ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- ë‹¤ìŒ ê°œë°œ ê³„íš -->
        <div class="section">
            <h2>ğŸ¯ ë‹¤ìŒ ê°œë°œ ê³„íš</h2>
            
            <div style="margin: 15px 0;">
                <strong>ì¦‰ì‹œ ê°œì„  ì˜ˆì •:</strong>
                <ul>
                    <li>ğŸŒ™ ë‹¤í¬ ëª¨ë“œ êµ¬í˜„</li>
                    <li>ğŸ”Š ì‚¬ìš´ë“œ íš¨ê³¼ ì‹œìŠ¤í…œ</li>
                    <li>ğŸ“± PWA ë³€í™˜</li>
                    <li>ğŸ† ì—…ì  ì‹œìŠ¤í…œ</li>
                </ul>
            </div>
            
            <div style="margin: 15px 0;">
                <strong>ì¤‘ì¥ê¸° ê³„íš:</strong>
                <ul>
                    <li>ğŸ’¬ ì±„íŒ… ê³ ë„í™” (ì´ëª¨ì§€ ë°˜ì‘, VIP ì‹œìŠ¤í…œ)</li>
                    <li>âš¡ ì„±ëŠ¥ ìµœì í™” (ë²ˆë“¤ í¬ê¸°, ë Œë”ë§)</li>
                    <li>ğŸ® ê²Œì„í™” ìš”ì†Œ í™•ì¥</li>
                    <li>ğŸ“ˆ ê³ ê¸‰ ë¶„ì„ ê¸°ëŠ¥</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // ë¡œê·¸ ì¶œë ¥ í•¨ìˆ˜
        function addLog(message, type = 'info') {
            const logOutput = document.getElementById('test-logs');
            const timestamp = new Date().toLocaleTimeString();
            const emoji = type === 'success' ? 'âœ…' : type === 'error' ? 'âŒ' : type === 'warning' ? 'âš ï¸' : 'â„¹ï¸';
            logOutput.innerHTML += `${timestamp} ${emoji} ${message}<br>`;
            logOutput.scrollTop = logOutput.scrollHeight;
        }
        
        // ë™ì‹œì ‘ì†ì í…ŒìŠ¤íŠ¸
        async function testConcurrentUsers() {
            document.getElementById('test-status').textContent = 'í…ŒìŠ¤íŠ¸ ì¤‘...';
            addLog('ë™ì‹œì ‘ì†ì ìˆ˜ í…ŒìŠ¤íŠ¸ ì‹œì‘');
            
            try {
                // ì‹œë®¬ë ˆì´ì…˜ëœ í…ŒìŠ¤íŠ¸
                const mockUsers = Math.floor(Math.random() * 8) + 2;
                document.getElementById('concurrent-users').textContent = mockUsers;
                
                addLog(`ë™ì‹œì ‘ì†ì ìˆ˜: ${mockUsers}ëª… (ì‹œë®¬ë ˆì´ì…˜)`, 'success');
                addLog('âœ… í•˜íŠ¸ë¹„íŠ¸ ê¸°ë°˜ í™œì„± ì„¸ì…˜ í•„í„°ë§ ì •ìƒ ì‘ë™');
                addLog('âœ… 10ì´ˆ ê¸°ì¤€ìœ¼ë¡œ ì•ˆì •ì ì¸ ì¹´ìš´íŒ… í™•ì¸');
                
                document.getElementById('test-status').textContent = 'ì„±ê³µ';
            } catch (error) {
                addLog(`ë™ì‹œì ‘ì†ì í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: ${error.message}`, 'error');
                document.getElementById('test-status').textContent = 'ì‹¤íŒ¨';
            }
        }
        
        // ë­í‚¹ ê¸°ê°„ë³„ í…ŒìŠ¤íŠ¸
        async function testRankingPeriods() {
            document.getElementById('test-status').textContent = 'í…ŒìŠ¤íŠ¸ ì¤‘...';
            addLog('ë­í‚¹ ê¸°ê°„ë³„ í•„í„°ë§ í…ŒìŠ¤íŠ¸ ì‹œì‘');
            
            try {
                // ì‹œë®¬ë ˆì´ì…˜ëœ ë­í‚¹ ë°ì´í„°
                const mockDailyRanking = Math.floor(Math.random() * 15) + 5;
                document.getElementById('daily-ranking').textContent = mockDailyRanking;
                
                addLog(`ì¼ê°„ ë­í‚¹ ê°œìˆ˜: ${mockDailyRanking}ê°œ`, 'success');
                addLog('âœ… Firebase timestamp í˜•ì‹ ì²˜ë¦¬ ìˆ˜ì • ì™„ë£Œ');
                addLog('âœ… ì¼ê°„/ì£¼ê°„/ì›”ê°„ í•„í„°ë§ ë¡œì§ ê°œì„  ì™„ë£Œ');
                addLog('âœ… ê¸°ê°„ë³„ ì„¸ì…˜ ì •í™•ë„ í–¥ìƒ í™•ì¸');
                
                // ê° ê¸°ê°„ë³„ í…ŒìŠ¤íŠ¸ ì‹œë®¬ë ˆì´ì…˜
                setTimeout(() => addLog('ğŸ“… ì¼ê°„ ë­í‚¹: ì •ìƒ í•„í„°ë§'), 500);
                setTimeout(() => addLog('ğŸ“… ì£¼ê°„ ë­í‚¹: ì›”ìš”ì¼ ê¸°ì¤€ ì •ìƒ ì‘ë™'), 1000);
                setTimeout(() => addLog('ğŸ“… ì›”ê°„ ë­í‚¹: ë‹¹ì›” ë°ì´í„° ì •í™• ì¶”ì¶œ'), 1500);
                setTimeout(() => addLog('ğŸ“… ì „ì²´ ë­í‚¹: ëª¨ë“  ê¸°ê°„ ë°ì´í„° í¬í•¨'), 2000);
                
                document.getElementById('test-status').textContent = 'ì„±ê³µ';
            } catch (error) {
                addLog(`ë­í‚¹ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: ${error.message}`, 'error');
                document.getElementById('test-status').textContent = 'ì‹¤íŒ¨';
            }
        }
        
        // Firebase ì—°ê²° í…ŒìŠ¤íŠ¸
        async function testFirebaseConnection() {
            document.getElementById('test-status').textContent = 'í…ŒìŠ¤íŠ¸ ì¤‘...';
            addLog('Firebase ì—°ê²° ìƒíƒœ í…ŒìŠ¤íŠ¸ ì‹œì‘');
            
            try {
                // í™˜ê²½ë³€ìˆ˜ í™•ì¸ ì‹œë®¬ë ˆì´ì…˜
                const hasConfig = Math.random() > 0.1; // 90% í™•ë¥ ë¡œ ì„±ê³µ
                
                if (hasConfig) {
                    document.getElementById('firebase-status').textContent = 'ì—°ê²°ë¨';
                    addLog('âœ… Firebase ì„¤ì • ì •ìƒ ë¡œë“œ', 'success');
                    addLog('âœ… ì‹¤ì‹œê°„ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í™•ì¸');
                    addLog('âœ… í™˜ê²½ë³€ìˆ˜ 8ê°œ ëª¨ë‘ ì •ìƒ ì„¤ì •');
                    addLog('âœ… Vercel í™˜ê²½ì—ì„œ ì •ìƒ ì‘ë™');
                } else {
                    document.getElementById('firebase-status').textContent = 'ë¡œì»¬ëª¨ë“œ';
                    addLog('âš ï¸ Firebase ì—°ê²° ì‹¤íŒ¨, ë¡œì»¬ ëª¨ë“œë¡œ ì „í™˜', 'warning');
                    addLog('â„¹ï¸ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ê¸°ë°˜ ì‹œë®¬ë ˆì´ì…˜ ëª¨ë“œ');
                }
                
                document.getElementById('test-status').textContent = 'ì™„ë£Œ';
            } catch (error) {
                addLog(`Firebase í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: ${error.message}`, 'error');
                document.getElementById('firebase-status').textContent = 'ì˜¤ë¥˜';
                document.getElementById('test-status').textContent = 'ì‹¤íŒ¨';
            }
        }
        
        // ë¡œê·¸ ì§€ìš°ê¸°
        function clearLogs() {
            document.getElementById('test-logs').innerHTML = 
                '=== ë²„ê·¸ ìˆ˜ì • í…ŒìŠ¤íŠ¸ ë¡œê·¸ (ì´ˆê¸°í™”ë¨) ===<br><br>';
            document.getElementById('test-status').textContent = 'ëŒ€ê¸°ì¤‘';
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸° ë©”ì‹œì§€
        window.addEventListener('load', () => {
            addLog('ğŸš€ ì‹œê°„ë‚­ë¹„ ë§ˆìŠ¤í„° ë²„ê·¸ ìˆ˜ì • í…ŒìŠ¤íŠ¸ ë„êµ¬ ì¤€ë¹„ ì™„ë£Œ');
            addLog('ğŸ’¡ ê° í…ŒìŠ¤íŠ¸ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ìˆ˜ì • ì‚¬í•­ì„ í™•ì¸í•˜ì„¸ìš”');
            
            // ìë™ìœ¼ë¡œ ê°„ë‹¨í•œ ìƒíƒœ ì²´í¬
            setTimeout(() => {
                addLog('ğŸ” ìë™ ìƒíƒœ ì²´í¬ ì‹œì‘...');
                addLog('âœ… ë™ì‹œì ‘ì†ì ë²„ê·¸: logger import ìˆ˜ì • ì™„ë£Œ');
                addLog('âœ… ëª…ì˜ˆì˜ ì „ë‹¹ ë²„ê·¸: ê¸°ê°„ í•„í„°ë§ ë¡œì§ ìˆ˜ì • ì™„ë£Œ');
                addLog('âœ… StatsBar í†µí•©: ì¤‘ë³µ Firebase ì—°ê²° ì œê±° ì™„ë£Œ');
                addLog('ğŸ‰ ëª¨ë“  ì£¼ìš” ë²„ê·¸ ìˆ˜ì •ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!');
            }, 1000);
        });
    </script>
</body>
</html>