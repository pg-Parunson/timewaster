import{r as e,a as t,R as n,b as s}from"./vendor-b3ded5a3.js";import{i as a,g as r,r as o,a as i,s as l,b as c,o as d,c as m,d as x,e as h,p,f as u,u as g}from"./firebase-a4205219.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var b={exports:{}},f={},y=e,v=Symbol.for("react.element"),k=Symbol.for("react.fragment"),w=Object.prototype.hasOwnProperty,j=y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var s,a={},r=null,o=null;for(s in void 0!==n&&(r=""+n),void 0!==t.key&&(r=""+t.key),void 0!==t.ref&&(o=t.ref),t)w.call(t,s)&&!N.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===a[s]&&(a[s]=t[s]);return{$$typeof:v,type:e,key:r,ref:o,props:a,_owner:j.current}}f.Fragment=k,f.jsx=S,f.jsxs=S,b.exports=f;var T=b.exports,I={},C=t;I.createRoot=C.createRoot,I.hydrateRoot=C.hydrateRoot;const E={},M=function(e,t,n){if(!t||0===t.length)return e();const s=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if((e=function(e){return"/"+e}(e))in E)return;E[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(!!n)for(let n=s.length-1;n>=0;n--){const a=s[n];if(a.href===e&&(!t||"stylesheet"===a.rel))return}else if(document.querySelector(`link[href="${e}"]${a}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))};var A={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};var _=(t,n)=>{const s=e.forwardRef((({color:s="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:o,children:i,...l},c)=>{return e.createElement("svg",{ref:c,...A,width:a,height:a,stroke:s,strokeWidth:o?24*Number(r)/Number(a):r,className:`lucide lucide-${d=t,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,...l},[...n.map((([t,n])=>e.createElement(t,n))),...(Array.isArray(i)?i:[i])||[]]);var d}));return s.displayName=`${t}`,s};const $=_("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),F=_("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),D=_("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),O=_("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),L=_("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),R=_("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),z=_("DoorOpen",[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]]),U=_("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),H=_("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),P=_("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),V=_("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),W=_("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Y=_("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),G=_("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),B=_("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),X=_("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),K=_("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),q=_("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),J=_("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Z=_("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Q={critical:(...e)=>{},debug:(...e)=>{},info:(...e)=>{},warn:(...e)=>{},error:(...e)=>{},firebase:(...e)=>{},ranking:(...e)=>{},chat:(...e)=>{},stats:(...e)=>{}},ee={apiKey:{}.VITE_FIREBASE_API_KEY||"AIzaSyBIiVYzJyoe5l_Sx9ctjXHSfWFa1iK4d2Q",authDomain:{}.VITE_FIREBASE_AUTH_DOMAIN||"timewaster-ranking.firebaseapp.com",databaseURL:{}.VITE_FIREBASE_DATABASE_URL||"https://timewaster-ranking-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:{}.VITE_FIREBASE_PROJECT_ID||"timewaster-ranking",storageBucket:{}.VITE_FIREBASE_STORAGE_BUCKET||"timewaster-ranking.firebasestorage.app",messagingSenderId:{}.VITE_FIREBASE_MESSAGING_SENDER_ID||"43389524361",appId:{}.VITE_FIREBASE_APP_ID||"1:43389524361:web:2bb4cb052bc6e5a8e4e958",measurementId:{}.VITE_FIREBASE_MEASUREMENT_ID||"G-6850FF04H6"};Q.firebase("Firebase 설정 로드:",{hasApiKey:!!ee.apiKey,hasProjectId:!!ee.projectId,hasDatabaseURL:!!ee.databaseURL,environment:"production"});let te=null,ne=null,se=!1;try{te=a(ee),ne=r(te),se=!0,Q.firebase("✅ Firebase 연결 성공",{projectId:ee.projectId,databaseURL:ee.databaseURL})}catch(dt){Q.error("❌ Firebase 연결 실패:",dt),se=!1,Q.firebase("로컬 모드로 전환")}const ae=["시간여행자","우주탐험가","몽상가","일상탈출자","현실도피자","시공간유랑자","상상력모험가","꿈꾸는자","무한스크롤러","딴생각러","시간조각가","공상과학자","멍때리스트","자유로운영혼","떠도는구름","바람따라가는자","호기심탐험가","순간포착자","감성여행자","창의적방랑자","직감따르는자","영감수집가","순수한마음","자연친화자","평온추구자","행복탐험가","따스한바람","고요한호수","별빛수집가","무지개추적자"],re={SESSIONS:"sessions",RANKINGS:"rankings",DAILY:"rankings/daily",WEEKLY:"rankings/weekly",MONTHLY:"rankings/monthly",ALL_TIME:"rankings/allTime",LIVE_FEED:"live-feed"},oe={DAILY:"daily",WEEKLY:"weekly",MONTHLY:"monthly",ALL_TIME:"allTime"},ie={[oe.DAILY]:{title:"🏆 오늘의 시간낭비 챔피언",label:"일간",description:"오늘의 랭킹"},[oe.WEEKLY]:{title:"🥇 이번 주 시간낭비 킹",label:"주간",description:"이번 주 랭킹"},[oe.MONTHLY]:{title:"👑 이번 달 시간낭비 제왕",label:"월간",description:"이번 달 랭킹"},[oe.ALL_TIME]:{title:"🌟 역대 최강 시간낭비러",label:"전체",description:"역대 최고 랭킹"}},le=te,ce=Object.freeze(Object.defineProperty({__proto__:null,ANONYMOUS_NAMES:ae,DB_PATHS:re,RANKING_LABELS:ie,RANKING_PERIODS:oe,get database(){return ne},default:le,get isFirebaseConnected(){return se}},Symbol.toStringTag,{value:"Module"}));class de{constructor(){this.listeners=new Map,this.isFirebaseConnected=se,this.localStats={totalVisits:0,totalTimeWasted:0,activeSessions:0}}async incrementVisits(){try{if(this.isFirebaseConnected){const e=o(ne,"global-stats/totalVisits"),t=await i(e),n=(t.val()||0)+1;return await l(e,n),n}return this.localStats.totalVisits+=1,localStorage.setItem("global_stats",JSON.stringify(this.localStats)),this.localStats.totalVisits}catch(dt){return this.localStats.totalVisits||1}}async addTimeWasted(e){try{if(this.isFirebaseConnected){const t=o(ne,"global-stats/totalTimeWasted");await l(t,c(e));return(await i(t)).val()||0}return this.localStats.totalTimeWasted+=e,localStorage.setItem("global_stats",JSON.stringify(this.localStats)),this.localStats.totalTimeWasted}catch(dt){return 0}}async getActiveSessions(){try{if(this.isFirebaseConnected){const e=o(ne,re.SESSIONS),t=await i(e);if(!t.exists())return 1;const n=Object.values(t.val()),s=Date.now(),a=s-45e3,r=n.filter((e=>{if(!e.isActive)return!1;const t=e.lastHeartbeat;let n=0;if("object"==typeof t&&t.seconds)n=1e3*t.seconds;else if("number"==typeof t)n=t;else{const t=e.startTime;"object"==typeof t&&t.seconds?n=1e3*t.seconds:"number"==typeof t&&(n=t)}return n>a&&n>s-72e5}));return Math.max(1,r.length)}{const e=(new Date).getHours();let t=2,n=1;n=e>=9&&e<=12?1.3:e>=14&&e<=18?1.5:e>=19&&e<=23?1.8:e>=0&&e<=2?1.2:.8;const s=3*(Math.random()-.5);return Math.max(1,Math.min(12,Math.round(t*n+s)))}}catch(dt){return 1}}async getGlobalStats(){try{if(this.isFirebaseConnected){const e=o(ne,"global-stats"),t=await i(e);if(!t.exists()){const t={totalVisits:1,totalTimeWasted:0,lastUpdated:Date.now()};return await l(e,t).catch((e=>{})),{...t,activeSessions:1}}const n=t.val(),s=await this.getActiveSessions();return{totalVisits:n.totalVisits||0,totalTimeWasted:n.totalTimeWasted||0,activeSessions:s,lastUpdated:n.lastUpdated}}{const e=localStorage.getItem("global_stats");e&&(this.localStats=JSON.parse(e));const t=await this.getActiveSessions();return{totalVisits:this.localStats.totalVisits||0,totalTimeWasted:this.localStats.totalTimeWasted||0,activeSessions:t,lastUpdated:Date.now()}}}catch(dt){return{totalVisits:1,totalTimeWasted:0,activeSessions:1,lastUpdated:Date.now()}}}onStatsChange(e){if(this.isFirebaseConnected){const t=o(ne,"global-stats"),n=d(t,(async t=>{const n=t.val()||{},s=await this.getActiveSessions();e({totalVisits:n.totalVisits||0,totalTimeWasted:n.totalTimeWasted||0,activeSessions:s,lastUpdated:n.lastUpdated||Date.now()})}));return this.listeners.set("stats",n),()=>this.removeListener("stats")}{const t=async()=>{const t=await this.getGlobalStats();e(t)};t();const n=setInterval(t,3e4);return this.listeners.set("stats",n),()=>{clearInterval(n),this.listeners.delete("stats")}}}onActiveSessionsChange(e){if(this.isFirebaseConnected){let t=null,n=null,s=null;const a=o(ne,re.SESSIONS),r=d(a,(async s=>{n&&clearTimeout(n),n=setTimeout((async()=>{try{const n=await this.getActiveSessions();t!==n&&(t=n,e(n))}catch(dt){1!==t&&(t=1,e(1))}}),500)}));return s=setInterval((async()=>{try{const n=await this.getActiveSessions();t!==n&&(t=n,e(n))}catch(dt){}}),3e3),this.listeners.set("activeSessions",r),()=>{n&&clearTimeout(n),s&&clearInterval(s),this.removeListener("activeSessions")}}{const t=async()=>{const t=await this.getActiveSessions();e(t)};t();const n=setInterval(t,5e3);return this.listeners.set("activeSessions",n),()=>{clearInterval(n),this.listeners.delete("activeSessions")}}}removeListener(e){if(this.listeners.has(e)){const t=this.listeners.get(e);this.isFirebaseConnected?m(o(ne),"value",t):clearInterval(t),this.listeners.delete(e)}}removeAllListeners(){this.listeners.forEach(((e,t)=>{this.removeListener(t)}))}async updateOnSessionEnd(e){try{e>0&&await this.addTimeWasted(e)}catch(dt){}}}const me=new de,xe=Object.freeze(Object.defineProperty({__proto__:null,default:de,statsService:me},Symbol.toStringTag,{value:"Module"})),he=[{name:"쿠팡홈",description:"쿠팡에서 뭐든지 찾아보세요!",url:"https://link.coupang.com/a/cvyvMI",category:"쇼핑",icon:"🏠",color:"from-blue-500 to-cyan-500"},{name:"덤벨 세트",description:"집에서 운동하며 시간을 더 의미있게!",url:"https://link.coupang.com/a/cvyvfR",category:"운동",icon:"💪",color:"from-red-500 to-orange-500"},{name:"아들아 시간을 낭비하기에는 인생이 너무 짧다",description:"시간 관리의 지혜를 배워보세요",url:"https://link.coupang.com/a/cvywcQ",category:"도서",icon:"📚",color:"from-green-500 to-emerald-500"},{name:"알람시계",description:"정시에 일어나서 시간을 아껴보세요",url:"https://link.coupang.com/a/cvyw8r",category:"생활",icon:"⏰",color:"from-purple-500 to-pink-500"},{name:"브레인 메모리 영양제",description:"두뇌 건강으로 효율성을 높이세요",url:"https://link.coupang.com/a/cvyxs1",category:"건강",icon:"🧠",color:"from-yellow-500 to-orange-500"},{name:"루미큐브 보드게임",description:"가족과 함께하는 의미있는 시간",url:"https://link.coupang.com/a/cvyxI2",category:"게임",icon:"🎲",color:"from-indigo-500 to-purple-500"},{name:"케모마일티",description:"차 한 잔의 여유로 마음을 진정시키세요",url:"https://link.coupang.com/a/cvyx8I",category:"음료",icon:"🍵",color:"from-green-400 to-teal-500"},{name:"곰인형 만들기 DIY",description:"창의적인 활동으로 시간을 보내보세요",url:"https://link.coupang.com/a/cvyyv3",category:"취미",icon:"🧸",color:"from-pink-500 to-rose-500"}],pe=e=>{let t=[];t=e<180?[0,1,2]:e<420?[1,2,3,4]:e<660?[3,4,5,6]:[5,6,7];const n=t[Math.floor(e/90)%t.length];return he[n]},ue=n.memo((({showAd:t,adMessage:n,extremeMode:s,elapsedTime:a,onProductClick:r,adCooldownInfo:o={cooldown:0,canGetToken:!0}})=>{const[i,l]=e.useState(!1),c=pe(a);return e.useEffect((()=>{if(!t)return;const e=()=>{l(!0),setTimeout((()=>{l(!1)}),1e4)};e();const n=setInterval(e,7e4);return()=>clearInterval(n)}),[t]),T.jsx("div",{className:"w-full",children:t?T.jsxs("div",{className:"pokemon-dialog pokemon-hover "+(i?"pokemon-ad-blink":""),children:[T.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[T.jsx(Z,{className:"w-5 h-5 text-yellow-500 animate-bounce"}),T.jsx("span",{className:"pokemon-font text-lg text-gray-800 text-center font-bold",children:n}),T.jsx(Z,{className:"w-5 h-5 text-yellow-500 animate-bounce"})]}),T.jsx("div",{className:"text-center",children:T.jsx("button",{onClick:r,disabled:!o.canGetToken,className:"pokemon-button w-full transition-all duration-300 "+(o.canGetToken?"":"opacity-50 cursor-not-allowed"),style:{background:o.canGetToken?`linear-gradient(135deg, ${c.color.includes("purple")?"#9C27B0, #E91E63":c.color.includes("blue")?"#2196F3, #03DAC6":c.color.includes("green")?"#4CAF50, #8BC34A":"var(--pokemon-gold), var(--pokemon-orange)"})`:"linear-gradient(135deg, #9E9E9E 0%, #757575 100%)",minHeight:"80px"},children:T.jsxs("div",{className:"flex flex-col items-center gap-2",children:[T.jsx("div",{className:"text-2xl",children:o.canGetToken?c.icon:"⏰"})," ",T.jsx("div",{className:"pokemon-font font-bold text-black",children:o.canGetToken?c.name:"쇼핑 쿨다운 중"}),T.jsx("div",{className:"pokemon-font text-sm text-black/80 leading-tight",children:o.canGetToken?c.description:`${Math.ceil(o.cooldown/1e3)}초 후 다시 돈 쓸 수 있어요`})]})})}),T.jsx("div",{className:"mt-4 p-3 bg-blue-100 border-2 border-blue-400 rounded-lg",children:T.jsx("div",{className:"pokemon-font text-sm text-blue-800 text-center",children:o.canGetToken?"💡 어차피 시간 버린 거, 돈도 좀 써보세요":`🕰️ 광고 쿨다운 중! ${Math.ceil(o.cooldown/1e3)}초 후 다시 돈 쓸 수 있어요`})})]}):T.jsxs("div",{className:"pokemon-dialog text-center",children:[T.jsx("div",{className:"pokemon-font text-xl mb-4 text-red-800 font-bold",children:"😤 아직 쇼핑 자격도 없어요? 😤"}),T.jsxs("div",{className:"flex flex-col items-center gap-3",children:[T.jsx(D,{className:"w-12 h-12 text-red-400 animate-spin",style:{animationDuration:"3s"}}),T.jsx("div",{className:"pokemon-font text-red-600 font-bold",children:"1분 더 낭비해야 쇼핑 기회 오픈!"})]}),T.jsx("div",{className:"mt-4 p-3 bg-red-100 border-2 border-red-400 rounded-lg animate-pulse",children:T.jsx("div",{className:"pokemon-font text-sm text-red-700 text-center font-bold",children:"🙅 시간비 줄이는 초보자는 쇼핑도 금지! 가서 더 낭비하고 오세요~"})})]})})})),ge=({isOpen:t,onClose:n,onConfirm:s,title:a,message:r,type:o="info",showCancel:i=!1})=>{if(e.useEffect((()=>{const e=e=>{27===e.keyCode&&n()};return t&&document.addEventListener("keydown",e,!1),()=>{document.removeEventListener("keydown",e,!1)}}),[t,n]),!t)return null;const l={success:"var(--pokemon-gold)",warning:"#FF6B35",info:"#2196F3",exit:"#FF4444"};return T.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:T.jsxs("div",{className:"pokemon-celebration animate-bounce-in",children:[T.jsxs("div",{className:"text-center mb-6",children:[T.jsx("div",{className:"inline-block p-4 rounded-full mb-4",style:{background:`linear-gradient(135deg, ${l[o]}, ${l[o]}CC)`,border:"4px solid var(--pokemon-black)",boxShadow:"4px 4px 0px rgba(0,0,0,0.4)"},children:T.jsx("div",{className:"text-4xl",children:{success:"🎉",warning:"⚠️",info:"ℹ️",exit:"🚨"}[o]})}),T.jsx("h3",{className:"pokemon-font text-2xl font-bold text-black mb-2",children:a})]}),T.jsx("div",{className:"text-center mb-8",children:T.jsx("div",{className:"bg-white/90 border-4 border-black rounded-lg p-4 mb-4",children:T.jsx("p",{className:"pokemon-font text-lg text-black leading-relaxed font-bold",children:r})})}),T.jsxs("div",{className:"flex justify-center gap-4 "+(i?"flex-row":""),children:[i&&T.jsx("button",{onClick:n,className:"pokemon-button bg-gray-400 hover:bg-gray-500 text-black font-bold px-8 py-3 transition-all duration-200",style:{background:"linear-gradient(135deg, #9E9E9E 0%, #757575 100%)",minHeight:"50px"},children:"취소"}),T.jsx("button",{onClick:s||n,className:"pokemon-button text-black font-bold px-8 py-3 transition-all duration-200",style:{background:`linear-gradient(135deg, ${l[o]}, ${l[o]}DD)`,minHeight:"50px"},children:"확인"})]})]})})},be=e=>{const t=e%60;return`${Math.floor(e/60).toString().padStart(2,"0")}분 ${t.toString().padStart(2,"0")}초`};const fe=new class{constructor(){this.sessionId=null,this.anonymousName=null,this.heartbeatInterval=null,this.listeners=new Map,this.isFirebaseConnected=se,this.localRanking=[]}async initializeSession(){try{const t=sessionStorage.getItem("timewaster_tab_id")||`tab_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;if(sessionStorage.setItem("timewaster_tab_id",t),this.sessionId=`session_${t}_${Date.now()}`,this.anonymousName=ae[Math.floor(Math.random()*ae.length)],Q.critical("🚨 세션 초기화 시작:",{sessionId:this.sessionId,tabId:t,anonymousName:this.anonymousName,firebaseConnected:this.isFirebaseConnected,timestamp:(new Date).toISOString()}),this.isFirebaseConnected){const n=o(ne,re.SESSIONS),s=await i(n);if(s.exists()){const e=Object.entries(s.val());for(const[n,s]of e)s.sessionId&&s.sessionId.includes(t)&&(await l(o(ne,`${re.SESSIONS}/${n}/isActive`),!1),await l(o(ne,`${re.SESSIONS}/${n}/endTime`),x()))}try{const e={sessionId:this.sessionId,anonymousName:this.anonymousName,startTime:x(),currentTime:0,isActive:!0,lastHeartbeat:x(),userAgent:navigator.userAgent.substring(0,100)},t=o(ne,`${re.SESSIONS}/${this.sessionId}`);Q.critical("🚨 Firebase에 세션 저장 시도:",{sessionData:e,path:`${re.SESSIONS}/${this.sessionId}`,database:!!ne}),await l(t,e),Q.critical("✅ Firebase 세션 저장 성공!",{sessionId:this.sessionId,path:`${re.SESSIONS}/${this.sessionId}`}),await h(o(ne,`${re.SESSIONS}/${this.sessionId}/isActive`)).set(!1),await h(o(ne,`${re.SESSIONS}/${this.sessionId}/endTime`)).set(x()),Q.critical("🔥 Firebase 세션 생성 완료:",{sessionId:this.sessionId,"생성된세션수":1,"하트비트시작":"✅"}),this.startHeartbeat(),document.addEventListener("visibilitychange",(()=>{document.hidden?this.onPageHidden():this.onPageVisible()})),await this.addLiveFeedEvent("join",`${this.anonymousName}님이 접속했습니다`)}catch(e){throw Q.critical("❌ Firebase 세션 저장 실패:",{error:e,message:e.message,code:e.code}),e}}else{const e={sessionId:this.sessionId,anonymousName:this.anonymousName,startTime:Date.now(),currentTime:0,isActive:!0,lastHeartbeat:Date.now()};Q.critical("🏠 로컬 세션 생성 완료:",{sessionId:this.sessionId,"모드":"로컬 시뮬레이션"}),this.localRanking=[e],localStorage.setItem("timewaster_local_ranking",JSON.stringify(this.localRanking)),this.startLocalHeartbeat()}return{sessionId:this.sessionId,anonymousName:this.anonymousName}}catch(dt){throw Q.error("세션 초기화 실패:",dt),dt}}startHeartbeat(e=null){if(!this.isFirebaseConnected)return;const t=e||this.getOptimalHeartbeatInterval();this.heartbeatInterval=setInterval((async()=>{if(this.sessionId)try{await Promise.all([l(o(ne,`${re.SESSIONS}/${this.sessionId}/lastHeartbeat`),x()),l(o(ne,`${re.SESSIONS}/${this.sessionId}/isActive`),!0)])}catch(dt){Q.error("하트비트 실패, 재시도 중:",dt),setTimeout((()=>this.reconnectSession()),1e3)}}),t)}getOptimalHeartbeatInterval(){const e=navigator.userAgent,t=e.includes("Chrome"),n=e.includes("Edge"),s=e.includes("Safari")&&!e.includes("Chrome"),a=e.includes("Firefox");return t||n?2500:a?3e3:s?4e3:3e3}async reconnectSession(){try{this.sessionId&&this.isFirebaseConnected&&(await Promise.all([l(o(ne,`${re.SESSIONS}/${this.sessionId}/isActive`),!0),l(o(ne,`${re.SESSIONS}/${this.sessionId}/lastHeartbeat`),x())]),Q.info("세션 재연결 완료"))}catch(dt){Q.error("세션 재연결 실패:",dt)}}onPageHidden(){this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.startHeartbeat(1e4))}onPageVisible(){this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.sendHeartbeat(),this.startHeartbeat())}async sendHeartbeat(){if(this.sessionId&&this.isFirebaseConnected)try{await Promise.all([l(o(ne,`${re.SESSIONS}/${this.sessionId}/lastHeartbeat`),x()),l(o(ne,`${re.SESSIONS}/${this.sessionId}/isActive`),!0)])}catch(dt){Q.error("하트비트 전송 실패:",dt)}}startLocalHeartbeat(){this.heartbeatInterval=setInterval((()=>{if(this.sessionId)try{const e=JSON.parse(localStorage.getItem("timewaster_local_ranking")||"[]"),t=e.findIndex((e=>e.sessionId===this.sessionId));t>=0&&(e[t].lastHeartbeat=Date.now(),e[t].isActive=!0,localStorage.setItem("timewaster_local_ranking",JSON.stringify(e)),this.localRanking=e)}catch(dt){Q.error("로컬 하트비트 실패:",dt)}}),1e3)}async updateTime(e){if(this.sessionId)try{if(this.isFirebaseConnected){const t=o(ne,`${re.SESSIONS}/${this.sessionId}/currentTime`);await l(t,e),await this.checkMilestones(e)}else{const t=JSON.parse(localStorage.getItem("timewaster_local_ranking")||"[]"),n=t.findIndex((e=>e.sessionId===this.sessionId));n>=0&&(t[n].currentTime=e,localStorage.setItem("timewaster_local_ranking",JSON.stringify(t)),this.localRanking=t)}}catch(dt){Q.error("시간 업데이트 실패:",dt)}}async checkMilestones(e){const t=Math.floor(e/60);if([5,10,15,30,60,120].includes(t)&&e%60==0){const e=t>=60?`${this.anonymousName}님이 ${Math.floor(t/60)}시간 돌파! 😱`:`${this.anonymousName}님이 ${t}분 달성! 🎉`;await this.addLiveFeedEvent("milestone",e)}}async addLiveFeedEvent(e,t){try{const n=o(ne,re.LIVE_FEED),s=p(n);await l(s,{type:e,message:t,timestamp:x(),sessionId:this.sessionId,anonymousName:this.anonymousName}),await this.cleanupLiveFeed()}catch(dt){Q.error("라이브 피드 추가 실패:",dt)}}async cleanupLiveFeed(){try{const e=o(ne,re.LIVE_FEED),t=await i(e);if(t.exists()){const e=Object.entries(t.val());if(e.length>20){const t=e.sort((([,e],[,t])=>(e.timestamp||0)-(t.timestamp||0))).slice(0,e.length-20);for(const[e]of t)await u(o(ne,`${re.LIVE_FEED}/${e}`))}}}catch(dt){Q.error("라이브 피드 정리 실패:",dt)}}async getRanking(e=oe.DAILY){try{if(this.isFirebaseConnected){const t=o(ne,re.SESSIONS),n=await i(t);if(!n.exists())return[];const s=Object.values(n.val()),a=s.filter((e=>{var t;const n=e.finalTime>0||e.currentTime>0,s=e.finalNickname||e.anonymousName,a=!0===e.submittedToRanking||e.isActive&&e.currentTime>=10;return Q.debug("랭킹 세션 필터링:",{sessionId:(null==(t=e.sessionId)?void 0:t.slice(-8))||"unknown",hasValidTime:n,hasValidNickname:s,isEligible:a,isSubmitted:!0===e.submittedToRanking,isActive:e.isActive,currentTime:e.currentTime,finalTime:e.finalTime,startTime:e.startTime}),n&&s&&a}));Q.ranking(`전체 세션: ${s.length}개, 유효 세션: ${a.length}개`),Q.ranking("유효한 랭킹 세션:",a.length,"개");const r=a.filter((t=>this.isSessionInPeriod(t,e)));Q.ranking(`${e} 기간 필터링 결과: ${r.length}개`);const l=r.sort(((e,t)=>{const n=e.finalTime||e.currentTime||0;return(t.finalTime||t.currentTime||0)-n})).slice(0,20);return l.map(((e,t)=>({rank:t+1,anonymousName:e.finalNickname||e.anonymousName,comment:e.finalComment||"",timeInSeconds:e.finalTime||e.currentTime,timeDisplay:this.formatTime(e.finalTime||e.currentTime),isCurrentUser:e.sessionId===this.sessionId})))}{const t=JSON.parse(localStorage.getItem("timewaster_local_ranking")||"[]"),n=t.filter((e=>{const t=e.currentTime>0||e.finalTime>0,n=e.finalNickname||e.anonymousName,s=!0===e.submittedToRanking||e.isActive&&e.currentTime>=10;return t&&n&&s}));Q.ranking(`로컬 모드 - 전체 세션: ${t.length}개, 유효 세션: ${n.length}개`);const s=n.filter((t=>this.isSessionInPeriod(t,e)));Q.ranking(`로컬 ${e} 기간 필터링 결과: ${s.length}개`);return s.sort(((e,t)=>{const n=e.finalTime||e.currentTime||0;return(t.finalTime||t.currentTime||0)-n})).slice(0,20).map(((e,t)=>({rank:t+1,anonymousName:e.finalNickname||e.anonymousName,comment:e.finalComment||"",timeInSeconds:e.finalTime||e.currentTime,timeDisplay:this.formatTime(e.finalTime||e.currentTime),isCurrentUser:e.sessionId===this.sessionId})))}}catch(dt){return Q.error("랭킹 조회 실패:",dt),[]}}isSessionInPeriod(e,t){const n=e.startTime,s=Date.now();let a;"object"==typeof n&&n.seconds?a=new Date(1e3*n.seconds):"number"==typeof n?a=new Date(n):(Q.warning("잘못된 sessionTime 형식:",n),a=new Date(s));const r=new Date(s),o=new Date(a.getTime()-6e4*a.getTimezoneOffset()),i=new Date(r.getTime()-6e4*r.getTimezoneOffset());switch(Q.debug(`기간 필터링 확인 (${t}):`,{sessionDate:a.toISOString(),currentDate:r.toISOString(),sessionUTC:o.toISOString(),currentUTC:i.toISOString(),sessionDateString:a.toDateString(),currentDateString:r.toDateString()}),t){case oe.DAILY:const e=540,t=new Date(s+60*e*1e3),n=new Date(t);n.setUTCHours(0,0,0,0);const r=new Date(t);r.setUTCHours(23,59,59,999);const o=new Date(a.getTime()+60*e*1e3),i=o>=n&&o<=r;return Q.debug(`일간 필터 결과 (한국시간 기준): ${i}`,{"한국현재시간":t.toISOString(),"한국오늘시작":n.toISOString(),"한국오늘끝":r.toISOString(),"세션한국시간":o.toISOString(),"원본세션시간":a.toISOString()}),i;case oe.WEEKLY:const l=new Date(s+324e5),c=this.getStartOfWeek(l),d=this.getEndOfWeek(l),m=new Date(a.getTime()+324e5),x=m>=c&&m<=d;return Q.debug(`주간 필터 결과 (한국시간 기준): ${x}`,{startOfWeek:c.toISOString(),endOfWeek:d.toISOString(),"세션한국시간":m.toISOString()}),x;case oe.MONTHLY:const h=new Date(s+324e5),p=h.getUTCDate()<=15,u=p?new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth()-1,1)):new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth(),1)),g=new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth()+1,0,23,59,59,999)),b=new Date(a.getTime()+324e5),f=b>=u&&b<=g;return Q.debug(`월간 필터 결과 (한국시간, ${p?"이전달 포함":"이번달만"}): ${f}`,{"한국현재일":h.getUTCDate(),"월초반여부":p,monthlyStartDate:u.toISOString(),monthlyEndDate:g.toISOString(),"세션한국시간":b.toISOString(),"원본세션시간":a.toISOString()}),f;case oe.ALL_TIME:return Q.debug("전체 기간 필터: true"),!0;default:return Q.debug("기본 필터: true"),!0}}getStartOfWeek(e){const t=new Date(e),n=t.getDay(),s=t.getDate()-n+(0===n?-6:1),a=new Date(t.setDate(s));return a.setHours(0,0,0,0),a}getEndOfWeek(e){const t=this.getStartOfWeek(e),n=new Date(t);return n.setDate(t.getDate()+6),n.setHours(23,59,59,999),n}onRankingChange(e,t=oe.DAILY){if(this.isFirebaseConnected){const n=o(ne,re.SESSIONS),s=d(n,(async n=>{if(n.exists()){const n=await this.getRanking(t);e(n)}else e([])}));return this.listeners.set(`ranking_${t}`,s),()=>this.removeListener(`ranking_${t}`)}{const n=async()=>{const n=await this.getRanking(t);e(n)};n();const s=setInterval(n,5e3);return this.listeners.set(`ranking_${t}`,s),()=>{clearInterval(s),this.listeners.delete(`ranking_${t}`)}}}onLiveFeedChange(e){const t=o(ne,re.LIVE_FEED),n=d(t,(t=>{if(t.exists()){const n=Object.values(t.val()).sort(((e,t)=>(t.timestamp||0)-(e.timestamp||0))).slice(0,5);e(n)}else e([])}));return this.listeners.set("liveFeed",n),()=>this.removeListener("liveFeed")}removeListener(e){if(this.listeners.has(e)){const t=this.listeners.get(e);m(o(ne),"value",t),this.listeners.delete(e)}}removeAllListeners(){this.listeners.forEach(((e,t)=>{this.removeListener(t)}))}async endSession(){try{if(this.sessionId){if(this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.isFirebaseConnected)await l(o(ne,`${re.SESSIONS}/${this.sessionId}/isActive`),!1),await l(o(ne,`${re.SESSIONS}/${this.sessionId}/endTime`),x()),await this.addLiveFeedEvent("leave",`${this.anonymousName}님이 현실로 돌아갔습니다`);else{const e=JSON.parse(localStorage.getItem("timewaster_local_ranking")||"[]"),t=e.findIndex((e=>e.sessionId===this.sessionId));t>=0&&(e[t].isActive=!1,e[t].endTime=Date.now(),localStorage.setItem("timewaster_local_ranking",JSON.stringify(e)))}this.removeAllListeners()}}catch(dt){Q.error("세션 종료 실패:",dt)}}formatTime(e){return`${Math.floor(e/60)}분 ${(e%60).toString().padStart(2,"0")}초`}async getExpectedRank(e,t=oe.DAILY){var n;try{if(Q.critical("🏆 예상 순위 계산 시작:",{timeInSeconds:e,period:t,sessionId:(null==(n=this.sessionId)?void 0:n.slice(-8))||"unknown",anonymousName:this.anonymousName}),this.isFirebaseConnected){const n=o(ne,re.SESSIONS),s=await i(n);if(!s.exists())return Q.critical("🏆 세션 데이터 없음 - 1위 반환"),1;const a=Object.values(s.val()),r=a.filter((e=>{const t=!0===e.submittedToRanking||e.isActive&&e.currentTime>=10,n=e.finalTime>0||e.currentTime>0;return t&&n})).filter((e=>this.isSessionInPeriod(e,t))).map((e=>({...e,compareTime:e.finalTime||e.currentTime||0}))).sort(((e,t)=>t.compareTime-e.compareTime));Q.critical("🏆 비교 가능 세션 분석:",{"전체세션":a.length,"비교가능세션":r.length,"내시간":e,"상위세션":r.slice(0,3).map((e=>({"닉네임":e.anonymousName,"시간":e.compareTime,"제출여부":e.submittedToRanking,"활성여부":e.isActive})))});const l=r.filter((t=>t.compareTime>e)).length,c=l+1;return Q.critical("🏆 예상 순위 결과:",{"높은점수개수":l,"예상순위":c,"내시간":e}),c}{const n=JSON.parse(localStorage.getItem("timewaster_local_ranking")||"[]").filter((e=>{const t=!0===e.submittedToRanking||e.isActive&&e.currentTime>=10,n=e.currentTime>0||e.finalTime>0;return t&&n})).filter((e=>this.isSessionInPeriod(e,t))).sort(((e,t)=>(t.finalTime||t.currentTime||0)-(e.finalTime||e.currentTime||0))),s=n.filter((t=>(t.finalTime||t.currentTime||0)>e)).length;return Q.critical("🏆 로컬 모드 예상 순위:",{"비교세션":n.length,"높은점수":s,"예상순위":s+1}),s+1}}catch(dt){return Q.error("예상 순위 확인 실패:",dt),null}}async submitScore(e,t=null,n=""){try{if(!this.sessionId)throw new Error("활성 세션이 없습니다");const s=t||this.anonymousName;if(Q.ranking("랭킹 등록 시작:",{timeInSeconds:e,finalNickname:s,customComment:n,sessionId:this.sessionId}),this.isFirebaseConnected){const t={};t[`${re.SESSIONS}/${this.sessionId}/finalTime`]=e,t[`${re.SESSIONS}/${this.sessionId}/finalNickname`]=s,t[`${re.SESSIONS}/${this.sessionId}/finalComment`]=n,t[`${re.SESSIONS}/${this.sessionId}/submittedToRanking`]=!0,t[`${re.SESSIONS}/${this.sessionId}/endTime`]=x(),t[`${re.SESSIONS}/${this.sessionId}/isActive`]=!1,await g(o(ne),t),Q.firebase("랭킹 데이트 Firebase 업데이트 완료");const a=await this.getExpectedRank(e);return await this.addLiveFeedEvent("ranking",`${s}님이 ${this.formatTime(e)}로 ${a}위 달성! 🏆`),!0}{const t=JSON.parse(localStorage.getItem("timewaster_local_ranking")||"[]"),a=t.findIndex((e=>e.sessionId===this.sessionId));if(a>=0)return t[a].finalTime=e,t[a].finalNickname=s,t[a].finalComment=n,t[a].submittedToRanking=!0,t[a].endTime=Date.now(),localStorage.setItem("timewaster_local_ranking",JSON.stringify(t)),!0;throw new Error("세션을 찾을 수 없습니다")}}catch(dt){throw Q.error("랭킹 제출 실패:",dt),dt}}getCurrentUser(){return{sessionId:this.sessionId,anonymousName:this.anonymousName}}},ye=({isOpen:t,onClose:n,onConfirm:s,onExit:a,elapsedTime:r,currentUser:o,totalTimeWasted:i,visits:l,adClicks:c})=>{const[d,m]=e.useState(""),[x,h]=e.useState(""),[p,u]=e.useState(!1);e.useState(!1);const[g,b]=e.useState(null);e.useEffect((()=>{if(t&&r>0){(async()=>{try{const e=await fe.getExpectedRank(r);b(e)}catch(dt){}})()}}),[t,r]);const f=()=>{a?a():s()};if(!t)return null;const y=r>=60;return T.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:T.jsxs("div",{className:"pokemon-dialog max-w-md w-full p-6 animate-fadeIn",children:[T.jsxs("div",{className:"text-center mb-6",children:[T.jsx("div",{className:"text-6xl mb-2",children:"🏆"}),T.jsx("h2",{className:"pokemon-font text-2xl font-bold text-gray-800 mb-2",children:"시간낭비 기록 달성!"}),T.jsxs("p",{className:"pokemon-font text-gray-600",children:[be(r),"의 소중한 시간을 낭비하셨습니다"]})]}),T.jsxs("div",{className:"bg-gray-100 border-2 border-gray-300 rounded-lg p-4 mb-6 space-y-2",children:[T.jsxs("div",{className:"flex justify-between text-sm",children:[T.jsx("span",{className:"pokemon-font text-gray-600",children:"이번 세션"}),T.jsx("span",{className:"pokemon-font text-gray-800 font-bold",children:be(r)})]}),T.jsxs("div",{className:"flex justify-between text-sm",children:[T.jsx("span",{className:"pokemon-font text-gray-600",children:"총 방문 횟수"}),T.jsxs("span",{className:"pokemon-font text-gray-800",children:[l,"회"]})]}),T.jsxs("div",{className:"flex justify-between text-sm",children:[T.jsx("span",{className:"pokemon-font text-gray-600",children:"누적 시간낭비"}),T.jsx("span",{className:"pokemon-font text-gray-800 font-bold",children:be(i+r)})]}),T.jsxs("div",{className:"flex justify-between text-sm",children:[T.jsx("span",{className:"pokemon-font text-gray-600",children:"광고 클릭"}),T.jsxs("span",{className:"pokemon-font text-gray-800",children:[c,"회"]})]}),g&&T.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t-2 border-gray-300",children:[T.jsx("span",{className:"pokemon-font text-gray-600",children:"예상 순위"}),T.jsxs("span",{className:"pokemon-font text-yellow-600 font-bold",children:["#",g]})]})]}),y?T.jsxs("div",{className:"mb-6",children:[T.jsx("h3",{className:"pokemon-font text-lg font-bold text-gray-800 mb-3 text-center",children:"🎖️ 랭킹에 기록하시겠습니까?"}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block pokemon-font text-sm text-gray-700 mb-2",children:"닉네임 (선택사항)"}),T.jsx("input",{type:"text",value:d,onChange:e=>{const t=e.target.value.replace(/[<>"/\\&']/g,"").slice(0,12);m(t)},placeholder:(null==o?void 0:o.anonymousName)||"익명의 시간낭비자",className:"w-full px-4 py-3 bg-white border-2 border-gray-300 rounded-lg pokemon-font text-gray-800 placeholder-gray-500 focus:outline-none focus:border-blue-400 transition-all",maxLength:"12"}),T.jsxs("p",{className:"pokemon-font text-xs text-gray-500 mt-1",children:[d.length,"/12자 (비워두면 기본 닉네임 사용)"]})]}),T.jsxs("div",{className:"bg-gray-50 border-2 border-gray-300 rounded-lg p-3 mb-4",children:[T.jsx("p",{className:"pokemon-font text-sm text-gray-600 mb-2",children:"랭킹 표시 미리보기:"}),T.jsxs("div",{className:"flex items-center justify-between bg-gradient-to-r from-blue-100 to-blue-200 border-2 border-blue-300 rounded-lg p-3",children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsxs("span",{className:"pokemon-font text-blue-700 font-bold",children:["#",g||"?"]}),T.jsx("span",{className:"pokemon-font text-gray-800 font-medium",children:d||(null==o?void 0:o.anonymousName)||"익명"})]}),T.jsx("span",{className:"pokemon-font text-gray-700 font-bold text-sm",children:be(r)})]})]}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block pokemon-font text-sm text-gray-700 mb-2",children:"한마디 소감 남기기 (선택사항)"}),T.jsx("textarea",{value:x,onChange:e=>h(e.target.value.slice(0,30)),placeholder:"시간낭비에 대한 소감을 남겨보세요...",className:"w-full px-3 py-2 bg-white border-2 border-gray-300 rounded-lg pokemon-font text-sm text-gray-800 placeholder-gray-500 focus:outline-none focus:border-blue-400 transition-all resize-none",rows:"2",maxLength:"30"}),T.jsxs("p",{className:"pokemon-font text-xs text-gray-500 mt-1",children:[x.length,"/30자 (짧고 임팩트 있게!)"]})]}),T.jsxs("div",{className:"space-y-3",children:[T.jsx("button",{onClick:async()=>{u(!0);try{const e=d.trim().length>0?d.trim():(null==o?void 0:o.anonymousName)||"익명",t=x.trim();if(!(await fe.submitScore(r,e,t)))throw new Error("랭킹 등록 실패");window.confirm&&alert(`🏆 랭킹 등록 완료!\n닉네임: ${e}\n시간: ${be(r)}`),s()}catch(dt){window.alert&&alert("랭킹 등록에 실패했습니다. 다시 시도해주세요.")}finally{u(!1)}},disabled:p,className:"pokemon-button w-full disabled:opacity-50",children:p?T.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[T.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-gray-800 rounded-full animate-spin"}),T.jsx("span",{children:"등록 중..."})]}):"🏆 랭킹에 등록하고 종료"}),T.jsx("button",{onClick:f,className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 hover:text-gray-800 pokemon-font font-medium py-3 px-6 rounded-lg border-2 border-gray-400 transition-all focus:outline-none focus:ring-2 focus:ring-gray-400",children:"랭킹 등록 없이 그냥 종료"})]})]}):T.jsxs("div",{className:"mb-6 text-center",children:[T.jsx("div",{className:"text-4xl mb-3",children:"😅"}),T.jsxs("div",{className:"pokemon-dialog bg-yellow-100 border-2 border-yellow-400 rounded-lg p-4 mb-4",children:[T.jsx("p",{className:"pokemon-font text-yellow-800 font-bold mb-2",children:"🎮 시간낭비 마스터 규칙 📋"}),T.jsx("p",{className:"pokemon-font text-yellow-700 text-sm",children:"1분 이상 시간을 낭비해야 명예의 전당에 등록할 수 있습니다!"})]}),T.jsx("button",{onClick:f,className:"pokemon-button w-full",children:"그냥 종료"})]}),T.jsx("div",{className:"text-center",children:T.jsx("button",{onClick:n,className:"pokemon-font text-gray-500 hover:text-gray-700 text-sm underline transition-colors",children:"아직 더 시간을 낭비하고 싶어요"})})]})})},ve=(e,t)=>{"undefined"!=typeof gtag&&gtag("event","session_start",{event_category:"engagement",visits_count:e,total_time_wasted:t,returning_visitor:e>1})},ke=()=>{"undefined"!=typeof gtag&&gtag("event","extreme_mode_entered",{event_category:"engagement",event_label:"time_milestone",value:300})},we=(e,t,n,s)=>{"undefined"!=typeof gtag&&gtag("event","coupang_click",{event_category:"affiliate",event_label:e,product_category:t,time_wasted_seconds:n,value:s})},je=(e,t)=>{"undefined"!=typeof gtag&&gtag("event","share",{method:e,content_type:"time_wasted",time_wasted_seconds:t})},Ne=e=>{"undefined"!=typeof gtag&&gtag("event","exit_confirmed",{event_category:"engagement",time_wasted_seconds:e,exit_method:"button"})},Se=(e,t)=>{"undefined"!=typeof gtag&&gtag("event","activity_selected",{event_category:"productivity",event_label:e,time_wasted_seconds:t,custom_parameter_1:"smart_recommendation"})},Te={shareToX:(e,t)=>{je("x",e);const n=`나는 이 시간낭비 사이트에서 ${t(e)}를 날렸습니다. 너도 똑같이 당해보시겠어요?`,s=encodeURIComponent(window.location.href);window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(n)}&url=${s}`,"_blank")},shareToKakao:(e,t,n)=>{if(je("kakao",e),"undefined"!=typeof Kakao&&Kakao.isInitialized())try{Kakao.Share.sendDefault({objectType:"feed",content:{title:"🕒 시간 낭비 마스터",description:`나는 이 사이트에서 ${t(e)}를 날렸습니다! 너도 똑같이 당해보시겠어요? 😂`,imageUrl:"https://pg-parunson.github.io/timewaster/timer-icon.svg",link:{mobileWebUrl:window.location.href,webUrl:window.location.href}},buttons:[{title:"시간낭비 시작하기",link:{mobileWebUrl:window.location.href,webUrl:window.location.href}}]}),n("카카오톡 공유 완료!","카카오톡으로 친구들에게 시간낭비를 공유했습니다! 🎉","success")}catch(dt){Te.fallbackKakaoShare(e,t,n)}else Te.fallbackKakaoShare(e,t,n)},fallbackKakaoShare:(e,t,n)=>{const s=`🕒 시간 낭비 마스터\n\n나는 이 사이트에서 ${t(e)}를 날렸습니다! 너도 똑같이 당해보시겠어요? 😂\n\n${window.location.href}`;navigator.share?navigator.share({title:"🕒 시간 낭비 마스터",text:s,url:window.location.href}):Te.copyToClipboard(s,n)},copyToClipboard:(e,t,n,s)=>{const a=e||`나는 이 시간낭비 사이트에서 ${s(n)}를 날렸습니다. 너도 똑같이 당해보시겠어요?\n\n${window.location.href}`;if(navigator.clipboard)navigator.clipboard.writeText(a);else{const e=document.createElement("textarea");e.value=a,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}t("복사 완료!","공유 메시지가 클립보드에 복사되었습니다!","success")}},Ie=({elapsedTime:e,formatTime:t,showModernModal:n})=>T.jsxs("div",{className:"text-center",children:[T.jsxs("div",{className:"flex flex-col gap-3",children:[T.jsxs("button",{onClick:()=>{Te.shareToX(e,t)},className:"pokemon-button w-full flex items-center justify-center gap-3",style:{background:"linear-gradient(135deg, #000000 0%, #434343 100%)",color:"#FFFFFF"},children:[T.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:T.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5 fill-current","aria-hidden":"true",children:T.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),T.jsx("span",{className:"pokemon-font font-bold",children:"X에서 공유하기"})]}),T.jsxs("button",{onClick:()=>{Te.shareToKakao(e,t,n)},className:"pokemon-button w-full flex items-center justify-center gap-3",style:{background:"linear-gradient(135deg, #FFEB3B 0%, #FF9800 100%)",color:"#000"},children:[T.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:T.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5 fill-current","aria-hidden":"true",children:T.jsx("path",{d:"M12 3C6.477 3 2 6.477 2 11.5c0 3.518 2.196 6.612 5.5 8.5v3l3.5-3c.5.1 1 .1 1.5 0l3.5 3v-3c3.304-1.888 5.5-4.982 5.5-8.5C22 6.477 17.523 3 12 3z"})})}),T.jsx("span",{className:"pokemon-font",children:"카카오톡 공유"})]}),T.jsxs("button",{onClick:()=>{Te.copyToClipboard(null,n,e,t)},className:"pokemon-button w-full flex items-center justify-center gap-3",style:{background:"linear-gradient(135deg, #9E9E9E 0%, #607D8B 100%)",color:"#FFF"},children:[T.jsx(O,{className:"w-5 h-5"}),T.jsx("span",{className:"pokemon-font",children:"링크 복사하기"})]})]}),T.jsx("div",{className:"mt-4 p-3 bg-yellow-100 border-2 border-yellow-400 rounded-lg",children:T.jsx("div",{className:"pokemon-font text-sm text-yellow-800",children:"💡 친구가 이 링크를 클릭하면 똑같이 시간을 낭비하게 됩니다!"})})]}),Ce=({elapsedTime:e})=>e<1800?null:T.jsx("div",{className:"mt-4 text-center animate-fade-in",children:T.jsxs("div",{className:"bg-gradient-to-r from-purple-500/30 via-pink-500/30 to-yellow-500/30 border-2 border-purple-400/50 rounded-3xl px-6 py-4 backdrop-blur-xl shadow-2xl relative overflow-hidden",children:[T.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-pink-600/20 animate-pulse"}),T.jsx("div",{className:"absolute top-2 left-4 w-2 h-2 bg-yellow-400 rounded-full animate-ping"}),T.jsx("div",{className:"absolute top-4 right-6 w-1 h-1 bg-pink-400 rounded-full animate-ping delay-500"}),T.jsx("div",{className:"absolute bottom-3 right-8 w-1.5 h-1.5 bg-purple-400 rounded-full animate-ping delay-1000"}),T.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-3",children:[T.jsx("div",{className:"text-2xl animate-bounce",children:"🏆"}),T.jsx("p",{className:"text-xl font-bold bg-gradient-to-r from-yellow-300 via-pink-300 to-purple-300 bg-clip-text text-transparent animate-pulse",children:"축하합니다! 당신은 이제 공식적으로 시간낭비의 달인입니다!"}),T.jsx("div",{className:"text-2xl animate-bounce delay-200",children:"🏆"})]}),T.jsx("div",{className:"absolute -top-2 -right-2",children:T.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-white px-3 py-1 rounded-full text-xs font-bold animate-pulse shadow-lg",children:"🎆 레전드!"})})]})}),Ee=({elapsedTime:e,onExit:t,inline:n=!1,showAlways:s=!1})=>!s&&e<=180?null:n?T.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-105 font-medium border border-red-400",title:"현실로 돌아가기",children:[T.jsx(z,{className:"w-5 h-5"}),T.jsx("span",{children:"현실로 탈출"})]}):T.jsx("button",{onClick:t,className:"fixed bottom-8 right-8 bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600 text-white p-4 rounded-full shadow-2xl animate-bounce z-50 backdrop-blur border border-red-400 group floating-button",title:"현실로 돌아가기",children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(z,{className:"w-6 h-6"}),T.jsx("span",{className:"hidden group-hover:block text-sm font-medium whitespace-nowrap bg-black/70 px-2 py-1 rounded absolute bottom-full mb-2 right-0",children:"현실로 돌아가기"})]})}),Me=["지금 내가 뭐 하는 거지?","더 깊은 현실 직시하기","시간 낭비 레벨업","더 뼈아픈 진실 듣기","생산성 완전 포기하기","현실 도피 계속하기","또 다른 핑계 찾기","시간의 소중함 무시하기"],Ae=n.memo((({showModal:e,trainer:t,onClose:n,currentLabel:a})=>{if(!e||!t||!t.rank)return null;const r=(e=>{switch(e){case 1:return{emoji:"👑",icon:T.jsx(L,{className:"w-5 h-5 text-white"})};case 2:return{emoji:"⭐",icon:T.jsx(Y,{className:"w-5 h-5 text-white"})};case 3:return{emoji:"🎖️",icon:T.jsx(Y,{className:"w-5 h-5 text-white"})};case 4:return{emoji:"🏅",icon:T.jsx(Y,{className:"w-5 h-5 text-white"})};case 5:return{emoji:"🥇",icon:T.jsx(Y,{className:"w-5 h-5 text-black"})};case 6:return{emoji:"🥈",icon:T.jsx(Y,{className:"w-5 h-5 text-black"})};case 7:case 8:case 9:case 10:return{emoji:"🥉",icon:T.jsx(Y,{className:"w-5 h-5 text-black"})};default:return{emoji:"⚪",icon:T.jsx("div",{className:"w-5 h-5 flex items-center justify-center text-xs font-bold text-gray-500",children:e})}}})(t.rank),o=(e=>{switch(e){case 1:return"LEGENDARY";case 2:return"CHALLENGER";case 3:return"GRANDMASTER";case 4:return"MASTER";case 5:return"DIAMOND";case 6:return"PLATINUM";case 7:case 8:case 9:case 10:return"GOLD";default:return null}})(t.rank),i=T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 ranker-card-backdrop",style:{zIndex:9999},onClick:e=>{e.target===e.currentTarget&&n()},children:T.jsxs("div",{className:"bg-white border-4 border-black rounded-lg max-w-md w-full mx-4 pokemon-font ranker-card-modal",style:{maxHeight:"90vh",overflowY:"auto"},onClick:e=>e.stopPropagation(),children:[T.jsxs("div",{className:"flex items-center justify-between p-4 border-b-2 border-black bg-gray-100",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(K,{className:"w-5 h-5 text-gray-700"}),T.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"랭커 카드"})]}),T.jsx("button",{onClick:n,className:"w-8 h-8 flex items-center justify-center bg-red-500 text-white rounded border-2 border-black hover:bg-red-600 transition-colors",children:T.jsx(J,{className:"w-4 h-4"})})]}),T.jsxs("div",{className:"p-6",children:[T.jsx("div",{className:"text-center mb-6",children:T.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[T.jsx("span",{className:"text-3xl",children:r.emoji}),T.jsxs("div",{className:"text-center",children:[T.jsxs("div",{className:"text-2xl font-bold text-gray-800",children:["#",t.rank]}),o&&T.jsx("div",{className:"text-sm px-2 py-1 rounded border-2 border-black font-bold "+(1===t.rank?"bg-yellow-100 text-yellow-900":2===t.rank?"bg-purple-100 text-purple-900":3===t.rank?"bg-blue-100 text-blue-900":4===t.rank?"bg-green-100 text-green-900":5===t.rank?"bg-yellow-100 text-yellow-900":6===t.rank?"bg-gray-100 text-gray-900":"bg-orange-100 text-orange-900"),children:o})]})]})}),T.jsxs("div",{className:"mb-4 p-3 bg-gray-50 border-2 border-gray-300 rounded",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx(K,{className:"w-4 h-4 text-gray-600"}),T.jsx("span",{className:"text-sm text-gray-600 font-bold",children:"닉네임"})]}),T.jsxs("div",{className:"text-lg font-bold text-gray-800 break-words",children:[t.anonymousName,t.isCurrentUser&&T.jsx("span",{className:"ml-2 text-xs bg-blue-500 text-white px-2 py-1 rounded-full",children:"나"})]})]}),T.jsxs("div",{className:"mb-4 p-3 bg-gray-50 border-2 border-gray-300 rounded",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx(D,{className:"w-4 h-4 text-gray-600"}),T.jsx("span",{className:"text-sm text-gray-600 font-bold",children:"시간 낙비 기록"})]}),T.jsx("div",{className:"text-xl font-bold text-gray-800",children:t.timeDisplay})]}),t.comment&&T.jsxs("div",{className:"mb-4 p-3 bg-gray-50 border-2 border-gray-300 rounded",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx(G,{className:"w-4 h-4 text-gray-600"}),T.jsx("span",{className:"text-sm text-gray-600 font-bold",children:"소감"})]}),T.jsx("div",{className:"text-base text-gray-800 break-words leading-relaxed",children:t.comment})]}),T.jsx("div",{className:"text-center mt-6 pt-4 border-t-2 border-gray-300",children:T.jsxs("div",{className:"text-sm text-gray-600",children:["현재 ",a.label," 랭킹 기준"]})})]}),T.jsx("div",{className:"p-4 border-t-2 border-black bg-gray-100 text-center",children:T.jsx("button",{onClick:n,className:"pokemon-button px-6 py-2",children:"닫기"})})]})});return s.createPortal(i,document.body)}));Ae.displayName="TrainerCardModal";const _e=({isVisible:t=!0,currentUser:n=null,elapsedTime:s=0})=>{const[a,r]=e.useState([]),[o,i]=e.useState(null),[l,c]=e.useState(!0),[d,m]=e.useState(null),[x,h]=e.useState(oe.DAILY),[p,u]=e.useState(null),[g,b]=e.useState(null),[f,y]=e.useState(!1),[v,k]=e.useState(null),[w,j]=e.useState(!1),[N,S]=e.useState(!1),I=(e,t)=>{const n="flex items-center gap-3 p-4 rounded-lg transition-all duration-300 relative overflow-hidden pokemon-font";switch(e){case 1:return`${n} tier-legendary shadow-lg`;case 2:return`${n} tier-master shadow-md`;case 3:return`${n} tier-diamond shadow-md`;case 4:return`${n} tier-platinum shadow-sm`;case 5:return`${n} tier-gold shadow-sm`;case 6:return`${n} tier-silver shadow-sm`;case 7:case 8:case 9:case 10:return`${n} tier-bronze shadow-sm`;default:return`${n} ${t?"bg-white border-2 border-blue-400 shadow-sm":"bg-gray-50 border border-gray-200 shadow-sm"}`}},C=(e,t)=>"pokemon-font text-xs font-bold "+(t&&e>10?"text-blue-600":""),E=e=>{switch(e){case 1:return{emoji:"👑",icon:T.jsx(L,{className:"w-5 h-5 text-white"})};case 2:return{emoji:"⭐",icon:T.jsx(Y,{className:"w-5 h-5 text-white"})};case 3:return{emoji:"🎖️",icon:T.jsx(Y,{className:"w-5 h-5 text-white"})};case 4:return{emoji:"🏅",icon:T.jsx(Y,{className:"w-5 h-5 text-white"})};case 5:return{emoji:"🥇",icon:T.jsx(Y,{className:"w-5 h-5 text-black"})};case 6:return{emoji:"🥈",icon:T.jsx(Y,{className:"w-5 h-5 text-black"})};case 7:case 8:case 9:case 10:return{emoji:"🥉",icon:T.jsx(Y,{className:"w-5 h-5 text-black"})};default:return{emoji:"⚪",icon:T.jsx("div",{className:"w-5 h-5 flex items-center justify-center text-xs font-bold text-gray-500",children:e})}}},M=e=>{!w&&!N&&e&&e.rank&&(S(!0),k({...e,uniqueId:`${e.rank}-${e.anonymousName}-${Date.now()}`}),j(!0),setTimeout((()=>S(!1)),500))};e.useEffect((()=>{const e=n||fe.getCurrentUser();i(e)}),[n]),e.useEffect((()=>{if(s>0&&o){(async()=>{try{const e=await fe.getExpectedRank(s,x);b({rank:e,time:s,username:o.anonymousName||"나"}),y(e>10)}catch(e){}})()}}),[s,o,x]),e.useEffect((()=>{p&&p(),c(!0);const e=fe.onRankingChange((e=>{r(e),c(!1)}),x);return u((()=>e)),()=>{e&&e()}}),[x]);if(!t)return null;const A=ie[x];return T.jsxs("div",{className:"p-4 h-full",children:[T.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[T.jsx(X,{className:"w-6 h-6 text-yellow-500"}),T.jsx("h3",{className:"pokemon-font text-lg text-gray-800",children:"명예의 전당"})]}),T.jsx("div",{className:"flex flex-wrap gap-1 mb-4 p-1 bg-gray-100 rounded-lg border-2 border-gray-300",children:Object.values(oe).map((e=>{const t=ie[e],n=x===e;return T.jsx("button",{onClick:()=>(e=>{h(e)})(e),className:`\n                flex-1 min-w-0 px-2 py-1 rounded pokemon-font text-xs transition-all\n                ${n?"bg-blue-500 text-white border-2 border-blue-800":"text-gray-700 hover:bg-gray-200 border-2 border-transparent"}\n              `,title:t.description||t.label,children:t.label},e)}))}),l&&T.jsxs("div",{className:"text-center py-6",children:[T.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-400 mx-auto mb-2"}),T.jsx("p",{className:"pokemon-font text-gray-600 text-sm",children:"랭킹 로딩 중..."})]}),d&&T.jsxs("div",{className:"text-center py-6",children:[T.jsx("p",{className:"pokemon-font text-red-600",children:"⚠️ 랭킹 정보를 불러올 수 없습니다"}),T.jsx("p",{className:"pokemon-font text-gray-500 text-sm mt-1",children:d})]}),!l&&!d&&T.jsxs(T.Fragment,{children:[0===a.length?T.jsxs("div",{className:"text-center py-6",children:[T.jsx(X,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),T.jsx("p",{className:"pokemon-font text-gray-600",children:"아직 명예의 전당이 비어있습니다"}),T.jsx("p",{className:"pokemon-font text-gray-500 text-sm",children:"첫 번째 챔피언이 되어보세요!"})]}):T.jsxs("div",{className:"space-y-2",children:[a.slice(0,10).map(((e,t)=>{const n=E(e.rank),s=(e=>{switch(e){case 1:return"LEGENDARY";case 2:return"CHALLENGER";case 3:return"GRANDMASTER";case 4:return"MASTER";case 5:return"DIAMOND";case 6:return"PLATINUM";case 7:case 8:case 9:case 10:return"GOLD";default:return null}})(e.rank);return T.jsxs("div",{className:`${I(e.rank,e.isCurrentUser)} vip-rank-container cursor-pointer hover:scale-[1.02] transition-transform`,onClick:()=>M(e),title:"클릭하면 랭커 카드를 볼 수 있어요!",children:[T.jsxs("div",{className:"flex items-center gap-3 min-w-[80px]",children:[T.jsx("span",{className:"text-2xl",children:n.emoji}),n.icon,T.jsxs("div",{className:"text-sm font-bold text-gray-800",children:["#",e.rank]})]}),T.jsxs("div",{className:"flex-1 min-w-0 px-3",children:[T.jsxs("div",{className:"flex items-center gap-1 flex-nowrap",children:[T.jsx("div",{className:(a=e.rank,r=e.isCurrentUser,"pokemon-font text-sm truncate font-bold "+(r&&a>10?"text-blue-700 font-bold":""))+" truncate",style:{maxWidth:"100px"},children:e.anonymousName}),e.isCurrentUser&&T.jsx("span",{className:"text-xs bg-blue-500 text-white px-1 py-0.5 rounded-full whitespace-nowrap font-bold flex-shrink-0",children:"나"}),s&&T.jsx("span",{className:"text-xs px-1 py-0.5 rounded font-black whitespace-nowrap border flex-shrink-0 hidden lg:inline "+(1===e.rank?"bg-yellow-100 text-yellow-900 border-yellow-400":2===e.rank?"bg-cyan-100 text-cyan-900 border-cyan-400":3===e.rank?"bg-blue-100 text-blue-900 border-blue-400":4===e.rank?"bg-teal-100 text-teal-900 border-teal-400":5===e.rank?"bg-yellow-100 text-yellow-900 border-yellow-400":6===e.rank?"bg-gray-100 text-gray-900 border-gray-400":"bg-orange-100 text-orange-900 border-orange-400"),children:s})]}),e.comment&&T.jsxs("div",{className:"pokemon-font text-xs text-gray-600 mt-1 truncate w-full",style:{maxWidth:"180px"},children:["📝 ",e.comment.length>12?e.comment.slice(0,12)+"...":e.comment]})]}),T.jsx("div",{className:"text-right min-w-[80px]",children:T.jsx("div",{className:C(e.rank,e.isCurrentUser),children:e.timeDisplay})})]},`${e.anonymousName}-${t}`);var a,r})),a.length>10&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"border-t-2 border-gray-300 my-2 pt-2",children:T.jsx("p",{className:"text-center pokemon-font text-xs text-gray-500 mb-2",children:"👇 더 많은 랭킹 보기"})}),T.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:a.slice(10,20).map(((e,t)=>{const n=E(e.rank);return T.jsxs("div",{className:`\n                            flex items-center gap-3 p-3 rounded-lg transition-all text-sm cursor-pointer hover:scale-[1.01]\n                            ${e.isCurrentUser?"bg-blue-100 border-2 border-blue-400 shadow-md":"bg-gray-50 border border-gray-200 hover:bg-gray-100"}\n                          `,onClick:()=>M(e),title:"클릭하면 랭커 카드를 볼 수 있어요!",children:[T.jsxs("div",{className:"flex items-center gap-2 min-w-[60px]",children:[T.jsx("span",{className:"text-sm",children:n.emoji}),T.jsxs("span",{className:"text-xs font-bold text-gray-600",children:["#",e.rank]})]}),T.jsxs("div",{className:"flex-1 min-w-0 px-2",children:[T.jsxs("div",{className:`\n                              pokemon-font text-xs font-bold truncate\n                              ${e.isCurrentUser?"text-blue-700":"text-gray-700"}\n                            `,style:{maxWidth:"150px"},children:[e.anonymousName.length>10?e.anonymousName.slice(0,10)+"...":e.anonymousName,e.isCurrentUser&&T.jsx("span",{className:"ml-1 text-xs bg-blue-500 text-white px-1 py-0.5 rounded-full",children:"나"})]}),e.comment&&T.jsxs("div",{className:"pokemon-font text-xs text-gray-400 mt-1 truncate",style:{maxWidth:"130px"},children:["📝 ",e.comment.length>10?e.comment.slice(0,10)+"...":e.comment]})]}),T.jsx("div",{className:"text-right min-w-[60px]",children:T.jsx("div",{className:`\n                              pokemon-font text-xs font-bold\n                              ${e.isCurrentUser?"text-blue-600":"text-gray-600"}\n                            `,children:e.timeDisplay})})]},`${e.anonymousName}-extended-${t}`)}))})]}),f&&g&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"border-t-2 border-blue-300 my-2 pt-2",children:T.jsx("p",{className:"text-center pokemon-font text-xs text-blue-600 mb-2",children:"📍 내 현재 예상 순위"})}),T.jsxs("div",{className:"bg-blue-50 border-2 border-blue-400 rounded-lg p-2 shadow-md",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("div",{className:"flex items-center gap-1 min-w-[50px]",children:[T.jsx("span",{className:"text-sm",children:"🎯"}),T.jsxs("span",{className:"text-sm font-bold text-blue-700",children:["#",g.rank]})]}),T.jsx("div",{className:"flex-1 px-2",children:T.jsxs("div",{className:"pokemon-font text-sm text-blue-800 font-bold",children:[g.username,T.jsx("span",{className:"ml-1 text-xs bg-blue-500 text-white px-2 py-0.5 rounded-full",children:"나"})]})}),T.jsx("div",{className:"text-right min-w-[60px]",children:T.jsx("div",{className:"pokemon-font text-xs font-bold text-blue-600",children:be(g.time)})})]}),T.jsx("div",{className:"mt-1 text-center",children:T.jsx("p",{className:"pokemon-font text-xs text-blue-600",children:"💪 계속 머물러서 순위를 올려보세요!"})})]})]})]}),a.length>0&&!f&&T.jsx("div",{className:"mt-3 p-2 bg-yellow-100 border-2 border-yellow-400 rounded-lg",children:T.jsx("p",{className:"text-center pokemon-font text-yellow-800 text-xs",children:"💪 더 오래 머물러서 명예의 전당에 이름을 올려보세요!"})})]}),T.jsx("div",{className:"mt-3 pt-2 border-t-2 border-gray-300",children:T.jsxs("div",{className:"flex justify-between items-center pokemon-font text-xs text-gray-600",children:[T.jsx("span",{children:"TOP 20 랭킹"}),T.jsxs("span",{className:"flex items-center gap-1",children:[T.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"LIVE"]})]})}),w&&v&&v.rank&&!N&&T.jsx(Ae,{showModal:!0,trainer:v,onClose:()=>{N||(S(!0),j(!1),setTimeout((()=>{k(null),S(!1)}),500))},currentLabel:A},v.uniqueId||`trainer-${v.rank}-${v.anonymousName}`)]})},$e=async(e,t,n={})=>{if(ne)try{const s=o(ne,re.LIVE_FEED),a=p(s),r={type:e,message:t,timestamp:Date.now(),...n};await l(a,r)}catch(dt){}},Fe=()=>ae[Math.floor(Math.random()*ae.length)],De=({isVisible:t,onOpenRankingTest:n})=>{const[s,a]=e.useState(1800);if(!t)return null;return T.jsxs("div",{className:"fixed bottom-4 left-4 z-50 bg-black/80 backdrop-blur-md \n                    border border-white/20 rounded-lg p-4 text-white text-sm",children:[T.jsx("h3",{className:"font-bold mb-2",children:"🛠️ 개발자 도구"}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("button",{onClick:()=>{(async()=>{const e=[{type:"milestone",message:"몽상가님이 5분 달성! 🎉"},{type:"ranking",message:"🏆 시간여행자님이 일간 랭킹 1위 달성! (42분)"},{type:"achievement",message:'⭐ 우주탐험가님이 "시간의 마법사" 업적 달성!'},{type:"activity",message:"💫 현실도피자님: 창밖을 바라보며 멍하니..."}];for(let t=0;t<e.length;t++){const n=e[t];await $e(n.type,n.message,{isTest:!0}),await new Promise((e=>setTimeout(e,1e3)))}})()},className:"bg-blue-500 hover:bg-blue-600 px-3 py-1 rounded text-xs\n                     transition-colors duration-200 w-full",children:"테스트 알림 생성"}),T.jsxs("div",{className:"border-t border-white/20 pt-2 mt-2",children:[T.jsx("div",{className:"text-xs text-yellow-300 mb-2 font-bold",children:"🏆 랭킹 테스트 설정"}),T.jsxs("div",{className:"mb-2",children:[T.jsx("label",{className:"block text-xs text-gray-300 mb-1",children:"테스트 시간 (분)"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("input",{type:"number",min:"1",max:"300",value:Math.floor(s/60),onChange:e=>a(60*parseInt(e.target.value||1)),className:"bg-black/50 border border-white/30 rounded px-2 py-1 text-xs text-white w-16\n                          focus:outline-none focus:border-yellow-400"}),T.jsx("span",{className:"text-xs text-gray-300 self-center",children:"분"})]}),T.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["설정된 시간: ",(r=s,`${Math.floor(r/60)}분 ${(r%60).toString().padStart(2,"0")}초`)]})]}),T.jsxs("div",{className:"flex gap-1 mb-2",children:[T.jsx("button",{onClick:()=>a(300),className:"bg-gray-600 hover:bg-gray-500 px-2 py-1 rounded text-xs transition-colors",children:"5분"}),T.jsx("button",{onClick:()=>a(900),className:"bg-gray-600 hover:bg-gray-500 px-2 py-1 rounded text-xs transition-colors",children:"15분"}),T.jsx("button",{onClick:()=>a(1800),className:"bg-gray-600 hover:bg-gray-500 px-2 py-1 rounded text-xs transition-colors",children:"30분"}),T.jsx("button",{onClick:()=>a(3600),className:"bg-gray-600 hover:bg-gray-500 px-2 py-1 rounded text-xs transition-colors",children:"1시간"})]})]}),T.jsxs("button",{onClick:()=>{n(s)},className:"bg-yellow-500 hover:bg-yellow-600 px-3 py-2 rounded text-xs\n                     transition-colors duration-200 w-full font-bold",children:["🏆 랭킹 등록 테스트 (",Math.floor(s/60),"분)"]}),T.jsxs("div",{className:"border-t border-white/20 pt-2 mt-2",children:[T.jsx("div",{className:"text-xs text-cyan-300 mb-2 font-bold",children:"🔍 디버깅 도구"}),T.jsxs("div",{className:"space-y-1",children:[T.jsx("button",{onClick:()=>{Q.critical("🔥 Firebase 연결 상태:",{connected:fe.isFirebaseConnected,sessionId:fe.sessionId?"✅ 있음":"❌ 없음",anonymousName:fe.anonymousName})},className:"bg-cyan-600 hover:bg-cyan-500 px-2 py-1 rounded text-xs\n                         transition-colors duration-200 w-full",children:"🚨 Firebase 상태 (중요)"}),T.jsx("button",{onClick:async()=>{const e=await M((()=>Promise.resolve().then((()=>xe))),void 0),t=await e.statsService.getActiveSessions();Q.critical("👥 동시 접속자 수 체크:",{"현재수":t,"Firebase모드":fe.isFirebaseConnected?"✅":"❌ 로컬모드","시간":(new Date).toLocaleTimeString()})},className:"bg-green-600 hover:bg-green-500 px-2 py-1 rounded text-xs\n                         transition-colors duration-200 w-full",children:"🚨 동시접속자 체크"}),T.jsx("button",{onClick:async()=>{const{database:e,DB_PATHS:t}=await M((()=>Promise.resolve().then((()=>ce))),void 0),{ref:n,get:s}=await M((()=>import("./firebase-a4205219.js").then((e=>e.h))),[]);try{const a=n(e,t.SESSIONS),r=await s(a);if(r.exists()){const e=Object.entries(r.val());Q.critical("🚨 Firebase 세션 데이터 직접 조회:",{"전체세션수":e.length,"세션목록":e.map((([e,t])=>({key:e.substring(0,15)+"...","이름":t.anonymousName,"활성":t.isActive?"✅":"❌","마지막하트비트":t.lastHeartbeat?"object"==typeof t.lastHeartbeat?new Date(1e3*t.lastHeartbeat.seconds).toLocaleTimeString():new Date(t.lastHeartbeat).toLocaleTimeString():"없음"})))})}else Q.critical("🚨 Firebase 세션 데이터 없음!")}catch(dt){Q.critical("🚨 Firebase 세션 조회 실패:",dt)}},className:"bg-yellow-600 hover:bg-yellow-500 px-2 py-1 rounded text-xs\n                         transition-colors duration-200 w-full",children:"🚨 Firebase 세션 데이터"}),T.jsx("button",{onClick:async()=>{const{database:e,DB_PATHS:t}=await M((()=>Promise.resolve().then((()=>ce))),void 0),{ref:n,set:s,get:a}=await M((()=>import("./firebase-a4205219.js").then((e=>e.h))),[]);try{const r=n(e,"test-connection"),o={timestamp:Date.now(),test:"연결 테스트"};Q.critical("🚨 Firebase 쓰기 권한 테스트 시작..."),await s(r,o),Q.critical("✅ Firebase 쓰기 성공!");const i=await a(r);Q.critical("✅ Firebase 읽기 성공:",i.val());const l=n(e,`${t.SESSIONS}/test-session`);await s(l,{test:!0,timestamp:Date.now()}),Q.critical("✅ 세션 경로 쓰기 성공!")}catch(dt){Q.critical("❌ Firebase 권한 테스트 실패:",{error:dt.message,code:dt.code,"상세":dt})}},className:"bg-red-600 hover:bg-red-500 px-2 py-1 rounded text-xs\n                         transition-colors duration-200 w-full",children:"🚨 Firebase 권한 테스트"})]})]}),T.jsx("div",{className:"text-xs text-gray-300 mt-2 border-t border-white/20 pt-2",children:"📝 개발자 도구 | 랭킹 테스트: 닉네임과 소감 저장 테스트"})]})]});var r},Oe={"1min":{activities:["물 한 잔 마시기","스트레칭","심호흡","감사 인사","미소 짓기"],message:"1분이면 할 수 있는 건강한 일들",category:"instant",difficulty:"매우 쉬움"},"3min":{activities:["책상 정리","이메일 확인","일기 한 줄","명상","플랭크 운동"],message:"3분의 마법 - 작지만 의미있는 변화",category:"quick",difficulty:"쉬움"},"5min":{activities:["영어 단어 암기","요가 스트레칭","감사 일기","친구에게 안부 문자","방 청소"],message:"5분 투자로 하루가 달라집니다",category:"habit",difficulty:"보통"},"7min":{activities:["TED 강연 시청","팟캐스트 듣기","운동 루틴","독서","온라인 강의"],message:"7분, 새로운 지식을 얻기에 충분한 시간",category:"learning",difficulty:"보통"},"10min":{activities:["블로그 포스팅","언어 학습","요리 레시피 연구","투자 정보 확인","취미 연구"],message:"10분이면 전문가 되기 첫걸음!",category:"productive",difficulty:"보통"},"15min":{activities:["코딩 연습","악기 연습","그림 그리기","외국어 회화","창작 활동"],message:"15분 투자로 새로운 스킬 개발하기",category:"skill",difficulty:"어려움"},"20min":{activities:["온라인 강의 수강","책 한 챕터 읽기","운동 루틴 완성","요리하기","프로젝트 작업"],message:"20분, 진짜 성장이 시작되는 시간",category:"advanced",difficulty:"어려움"},"30min":{activities:["심화 학습","포트폴리오 작업","네트워킹","멘토링 받기","창업 아이디어 구상"],message:"30분이면 전문가 수준 진입 가능!",category:"expert",difficulty:"매우 어려움"},"45min":{activities:["프로젝트 완성","심화 연구","전문 스킬 마스터리","창작물 제작","비즈니스 계획"],message:"45분, 마스터가 되기 위한 황금시간",category:"master",difficulty:"전문가"},"60min":{activities:["완전한 프로젝트 완성","전문 자격증 공부","창업 준비","예술 작품 완성","인생 계획 수립"],message:"1시간, 인생을 바꿀 수 있는 시간",category:"legend",difficulty:"레전드"}},Le={dawn:{optimal:["창작","명상","계획 수립","독서","일기 쓰기"],brainState:"창의적 사고",energy:"낮음",focus:"높음",recommendation:"조용한 창작 활동이나 깊은 사고가 필요한 일"},earlyMorning:{optimal:["어려운 공부","중요한 업무","문제 해결","전략 수립","복잡한 작업"],brainState:"최고 집중력",energy:"높음",focus:"최고",recommendation:"가장 어렵고 중요한 일부터 시작하세요"},midMorning:{optimal:["분석 작업","의사결정","회의","학습","기획"],brainState:"논리적 사고",energy:"높음",focus:"높음",recommendation:"논리적 판단이 필요한 중요한 결정들"},earlyAfternoon:{optimal:["가벼운 업무","소통","네트워킹","루틴 작업","정리"],brainState:"에너지 회복 중",energy:"중간",focus:"중간",recommendation:"무거운 일보다는 소통이나 정리 작업"},lateAfternoon:{optimal:["팀워크","브레인스토밍","소통","협업","피드백"],brainState:"사회적 활동",energy:"중간",focus:"중간",recommendation:"다른 사람들과 함께하는 활동이 효과적"},earlyEvening:{optimal:["창작","취미","학습","운동","계획"],brainState:"창의적 부활",energy:"중간",focus:"좋음",recommendation:"새로운 시도나 창의적 활동"},lateEvening:{optimal:["성찰","정리","독서","명상","하루 계획"],brainState:"성찰 모드",energy:"낮음",focus:"중간",recommendation:"하루를 돌아보고 내일을 준비하는 시간"}},Re={message:"자주 오시네요! 이제 습관이 된 건가요?",suggestions:["알림 설정으로 시간 관리 시작하기","하루 30분 생산성 챌린지","시간낭비 패턴 분석 일기","친구와 함께하는 생산성 경쟁"]},ze={message:"와... 진짜 집중력 대단하네요! 이거 다른 곳에 써보세요",suggestions:["이 집중력으로 온라인 강의 수강","새로운 기술 스킬 마스터하기","창작 프로젝트 시작하기","전문 자격증 공부 시작"]},Ue=(e,t={})=>{const n=Math.floor(e/60),s=(new Date).getHours();let a="1min";n>=60?a="60min":n>=45?a="45min":n>=30?a="30min":n>=20?a="20min":n>=15?a="15min":n>=10?a="10min":n>=7?a="7min":n>=5?a="5min":n>=3&&(a="3min");let r="midMorning";r=s>=0&&s<6?"dawn":s>=6&&s<9?"earlyMorning":s>=9&&s<12?"midMorning":s>=12&&s<15?"earlyAfternoon":s>=15&&s<18?"lateAfternoon":s>=18&&s<21?"earlyEvening":"lateEvening";const o=Oe[a],i=Le[r];let l="";return t.visits>=3?l=Re.message:n>=30&&(l=ze.message),{timeSpent:`${n}분 ${e%60}초`,activities:o.activities,message:o.message,category:o.category,difficulty:o.difficulty,brainState:i.brainState,energyLevel:i.energy,focusLevel:i.focus,timeOptimization:i.recommendation,personalizedTip:l,optimalActivities:i.optimal}},He={instant:{color:"emerald",icon:"⚡",description:"즉시 실행"},quick:{color:"cyan",icon:"🚀",description:"빠른 실행"},habit:{color:"violet",icon:"🔄",description:"습관 형성"},learning:{color:"amber",icon:"🧠",description:"학습 중심"},productive:{color:"rose",icon:"⚡",description:"생산성 향상"},skill:{color:"blue",icon:"🎯",description:"스킬 개발"},advanced:{color:"fuchsia",icon:"📈",description:"심화 학습"},expert:{color:"yellow",icon:"👑",description:"전문성 구축"},master:{color:"teal",icon:"🏆",description:"마스터 레벨"},legend:{color:"pink",icon:"💎",description:"레전드 도전"}},Pe=({message:t,id:n,onComplete:s})=>{const[a,r]=e.useState((()=>({x:-300,y:400*Math.random()+100}))),o=e.useRef(null),i=e.useRef(!1);return e.useEffect((()=>{if(i.current)return;i.current=!0;const e=Date.now(),t=window.innerWidth+300,l=a.y,c=()=>{const a=Date.now()-e,i=Math.min(a/7e3,1),d=1-Math.pow(1-i,3);r({x:(t- -300)*d-300,y:l+20*Math.sin(i*Math.PI*2)}),i<1?o.current=requestAnimationFrame(c):s(n)};return o.current=requestAnimationFrame(c),()=>{o.current&&cancelAnimationFrame(o.current)}}),[n,s]),T.jsx("div",{className:"fixed z-40 pointer-events-none",style:{left:a.x,top:a.y,transform:"translateY(-50%)"},children:T.jsx("div",{className:"pokemon-dialog bg-yellow-50 border-yellow-300 px-6 py-3 rounded-full shadow-lg",children:T.jsxs("div",{className:"pokemon-font text-lg font-bold text-yellow-800",children:["🏆 ",t]})})})},Ve=({message:t,id:n,isMyMessage:s,messageType:a="basic",onComplete:r})=>{const[o,i]=e.useState((()=>{const{width:e,height:t}="undefined"==typeof window?{width:1920,height:1080}:{width:window.innerWidth||1920,height:window.innerHeight||1080},n=Math.max(e,800),s=Math.max(t,600),a=[{startX:-100,endX:n+100,startY:150,endY:150,direction:"horizontal-top"},{startX:n+100,endX:-100,startY:250,endY:250,direction:"horizontal-reverse"},{startX:-100,endX:n+100,startY:350,endY:350,direction:"horizontal-bottom"},{startX:200,endX:200,startY:-50,endY:s+50,direction:"vertical-left"},{startX:n-200,endX:n-200,startY:-50,endY:s+50,direction:"vertical-right"},{startX:n/2,endX:n/2,startY:s+50,endY:-50,direction:"vertical-up"},{startX:-100,endX:n+100,startY:100,endY:s-100,direction:"diagonal-down-right"},{startX:n+100,endX:-100,startY:100,endY:s-100,direction:"diagonal-down-left"},{startX:-100,endX:n+100,startY:s-100,endY:100,direction:"diagonal-up-right"},{startX:n+100,endX:-100,startY:s-100,endY:100,direction:"diagonal-up-left"}];return a[Math.floor(Math.random()*a.length)]})),[l,c]=e.useState((()=>({x:o.startX,y:o.startY}))),[d,m]=e.useState(!0),x=e.useRef(null),h=e.useRef(null);return e.useEffect((()=>{h.current=Date.now();const e=()=>{const t=Date.now()-h.current,s=Math.min(t/7e3,1),a=o.startX+(o.endX-o.startX)*s,i=o.startY+(o.endY-o.startY)*s;c({x:a,y:i}),s<1&&d?x.current=requestAnimationFrame(e):(m(!1),setTimeout((()=>{r&&r(n)}),200))};if("undefined"==typeof requestAnimationFrame){const e=setInterval((()=>{const t=Date.now()-h.current,s=Math.min(t/7e3,1),a=o.startX+(o.endX-o.startX)*s,i=o.startY+(o.endY-o.startY)*s;c({x:a,y:i}),s>=1&&(clearInterval(e),m(!1),setTimeout((()=>r&&r(n)),200))}),16);return()=>clearInterval(e)}x.current=requestAnimationFrame(e);const t=setTimeout((()=>{x.current&&(cancelAnimationFrame(x.current),x.current=null),m(!1),setTimeout((()=>r&&r(n)),100)}),7e3);return()=>{x.current&&(cancelAnimationFrame(x.current),x.current=null),clearTimeout(t)}}),[n]),e.useEffect((()=>()=>{x.current&&cancelAnimationFrame(x.current)}),[]),d?T.jsx("div",{style:{position:"fixed",left:l.x,top:l.y,transform:"translate(-50%, -50%)",zIndex:99999,pointerEvents:"none"},children:T.jsxs("div",{className:"pokemon-font",style:{background:"premium"===a?s?"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)":"linear-gradient(135deg, #98FB98 0%, #32CD32 100%)":"rgba(255, 255, 255, 0.9)",color:"premium"===a?"#000000":"#333333",border:"premium"===a?"4px solid #000000":"2px solid rgba(100, 100, 100, 0.5)",borderRadius:"20px",padding:"premium"===a?"12px 20px":"10px 15px",fontSize:"premium"===a?"16px":"14px",fontWeight:"premium"===a?"bold":"normal",textShadow:"premium"===a?"2px 2px 0px rgba(255, 255, 255, 0.9)":"1px 1px 0px rgba(255, 255, 255, 0.8)",boxShadow:"premium"===a?["4px 4px 0px rgba(0, 0, 0, 0.5)","inset 2px 2px 0px rgba(255, 255, 255, 0.3)","0 0 20px rgba(255, 215, 0, 0.6)"].join(", "):"2px 2px 8px rgba(0, 0, 0, 0.3)",position:"relative",maxWidth:"350px",width:"fit-content",whiteSpace:"pre-wrap",wordWrap:"break-word",animation:"premium"===a?"glow 2s ease-in-out infinite alternate":"none"},children:["premium"===a&&T.jsxs(T.Fragment,{children:[T.jsx("div",{style:{position:"absolute",bottom:"-12px",left:"30px",width:0,height:0,borderLeft:"12px solid transparent",borderRight:"12px solid transparent",borderTop:s?"12px solid #FFA500":"12px solid #32CD32",zIndex:-1}}),T.jsx("div",{style:{position:"absolute",bottom:"-8px",left:"32px",width:0,height:0,borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:s?"10px solid #FFD700":"10px solid #98FB98"}})]}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"premium"===a?"8px":"6px"},children:[T.jsx("span",{style:{fontSize:"premium"===a?"20px":"16px"},children:"premium"===a?s?"😊":"💭":s?"😐":"💬"}),T.jsx("span",{children:t})]})]})}):null},We=document.createElement("style");We.textContent="\n  @keyframes glow {\n    from { \n      box-shadow: 4px 4px 0px rgba(0, 0, 0, 0.5), \n                  inset 2px 2px 0px rgba(255, 255, 255, 0.3), \n                  0 0 20px rgba(255, 215, 0, 0.6); \n    }\n    to { \n      box-shadow: 4px 4px 0px rgba(0, 0, 0, 0.5), \n                  inset 2px 2px 0px rgba(255, 255, 255, 0.3), \n                  0 0 30px rgba(255, 215, 0, 0.8); \n    }\n  }\n",!document.head.querySelector("[data-flying-message-styles]")&&document.head&&(We.setAttribute("data-flying-message-styles","true"),document.head.appendChild(We));const Ye=({isOpen:t,onClose:n,onSendMessage:s,remainingTime:a,canChat:r,chatTokens:o,premiumTokens:i,onAdClick:l,canGetTokenFromAd:c,elapsedTime:d})=>{const[m,x]=e.useState(""),[h,p]=e.useState("auto");return t?T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:T.jsx("div",{className:"pokemon-window max-w-md w-full mx-4",children:T.jsxs("div",{className:"pokemon-dialog",children:[T.jsxs("h3",{className:"pokemon-font text-xl font-bold mb-2 text-center",children:["🗨️ 글로벌 메시지 전송",T.jsxs("span",{className:"text-sm font-normal text-gray-600",children:["(일반:",o,"개 프리미엄:",i,"개)"]})]}),!r&&T.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-300 rounded-lg",children:[T.jsxs("div",{className:"pokemon-font text-sm text-yellow-800 text-center mb-3",children:["⚠️ 채팅 권한이 없습니다!",T.jsx("br",{}),d<60?T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"font-bold text-red-600",children:"1분 후에 광고를 보고 프리미엄 채팅 권한을 획득할 수 있어요!"}),T.jsx("br",{}),T.jsxs("span",{className:"text-xs",children:["남은 시간: ",60-d,"초"]})]}):T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"font-bold",children:"광고를 클릭해서 프리미엄 채팅 권한을 획득하세요!"}),T.jsx("br",{}),T.jsx("span",{className:"text-xs",children:"프리미엄 메시지는 화려하게 빛나요! ✨"})]})]}),T.jsx("button",{onClick:()=>{l()},disabled:d<60||!c,className:"w-full pokemon-button text-sm py-2 "+(d>=60&&c?"bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:d<60?`🔒 1분 후 광고 시청 가능 (${60-d}초)`:c?"🎆 광고 보고 프리미엄 채팅권한 획득!":`⏰ 광고 쿨다운: ${Math.ceil(a/1e3)}초`})]}),r&&(o>0||i>0)&&T.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-300 rounded-lg",children:[T.jsx("div",{className:"pokemon-font text-sm font-bold text-blue-800 mb-2 text-center",children:"🎯 메시지 타입 선택"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("label",{className:"flex-1 p-2 border-2 rounded-lg cursor-pointer transition-all "+("auto"===h?"border-blue-500 bg-blue-100":"border-gray-300 hover:border-blue-300"),children:[T.jsx("input",{type:"radio",name:"messageType",value:"auto",checked:"auto"===h,onChange:e=>p(e.target.value),className:"sr-only"}),T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-lg mb-1",children:"✨"}),T.jsx("div",{className:"pokemon-font text-xs font-bold",children:"자동"}),T.jsx("div",{className:"pokemon-font text-xs text-gray-600",children:i>0?"프리미엄 우선":"일반 메시지"})]})]}),o>0&&T.jsxs("label",{className:"flex-1 p-2 border-2 rounded-lg cursor-pointer transition-all "+("basic"===h?"border-green-500 bg-green-100":"border-gray-300 hover:border-green-300"),children:[T.jsx("input",{type:"radio",name:"messageType",value:"basic",checked:"basic"===h,onChange:e=>p(e.target.value),className:"sr-only"}),T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-lg mb-1",children:"💬"}),T.jsx("div",{className:"pokemon-font text-xs font-bold",children:"일반"}),T.jsxs("div",{className:"pokemon-font text-xs text-gray-600",children:[o,"개 보유"]})]})]}),i>0&&T.jsxs("label",{className:"flex-1 p-2 border-2 rounded-lg cursor-pointer transition-all "+("premium"===h?"border-yellow-500 bg-yellow-100":"border-gray-300 hover:border-yellow-300"),children:[T.jsx("input",{type:"radio",name:"messageType",value:"premium",checked:"premium"===h,onChange:e=>p(e.target.value),className:"sr-only"}),T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-lg mb-1",children:"🎆"}),T.jsx("div",{className:"pokemon-font text-xs font-bold",children:"프리미엄"}),T.jsxs("div",{className:"pokemon-font text-xs text-gray-600",children:[i,"개 보유"]})]})]})]}),T.jsxs("div",{className:"mt-2 text-center",children:["auto"===h&&T.jsx("div",{className:"pokemon-font text-xs text-blue-600",children:i>0?"🎆 프리미엄 권한이 우선 사용되어 화려하게 빛나요!":"💬 일반 메시지로 전송되어요"}),"basic"===h&&T.jsx("div",{className:"pokemon-font text-xs text-green-600",children:"💬 일반 메시지로 전송됩니다 (권한 1개 소모)"}),"premium"===h&&T.jsx("div",{className:"pokemon-font text-xs text-yellow-600",children:"🎆 프리미엄 메시지로 화려하게 빛나요! (권한 1개 소모)"})]})]}),T.jsxs("form",{onSubmit:e=>{e.preventDefault(),m.trim()&&m.length<=50&&(s(m.trim(),h),x(""),n())},children:[T.jsxs("div",{className:"mb-4",children:[T.jsx("textarea",{value:m,onChange:e=>x(e.target.value),placeholder:r?i>0?"🎆 프리미엄 메시지로 화려하게 빛나는 메시지를 보내세요!":"💬 일반 메시지로 간단한 메시지를 보내세요...":"채팅 권한이 없습니다. 광고를 클릭해 권한을 획득하세요.",className:"w-full p-3 border-2 rounded-lg pokemon-font resize-none "+(r?"border-gray-300":"border-gray-200 bg-gray-100 cursor-not-allowed"),rows:3,maxLength:50,autoFocus:r,disabled:!r}),T.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[m.length,"/",50]})]}),T.jsxs("div",{className:"flex gap-3",children:[T.jsx("button",{type:"button",onClick:n,className:"flex-1 pokemon-button bg-gray-300 text-gray-700",children:"취소"}),T.jsx("button",{type:"submit",disabled:!m.trim()||!r,className:"flex-1 pokemon-button "+(m.trim()&&r?"":"opacity-50 cursor-not-allowed bg-gray-300 text-gray-600"),children:r?"전송 🚀":"채팅 권한 없음 ❌"})]})]}),a>0&&T.jsxs("div",{className:"mt-3 text-center text-xs text-gray-600 pokemon-font",children:["다음 광고 클릭 가능까지: ",Math.ceil(a/1e3),"초"]})]})})}):null},Ge=({elapsedTime:t=0,onAdCooldownChange:n,chatTokens:s,setChatTokens:a,premiumTokens:r,setPremiumTokens:i})=>{const[l,c]=e.useState([]),[x,h]=e.useState([]),[u,g]=e.useState(!1);e.useState(0);const[b,f]=e.useState(0),y=s||0,v=a||(()=>{}),k=r||0,w=i||(()=>{});e.useState(0);const[j,N]=e.useState(0),[S,I]=e.useState(null),C=e.useRef(new Set),[E,M]=e.useState(null);e.useEffect((()=>{const e=setInterval((()=>{N((e=>{const t=e+1;return t>0&&t%60==0&&v((e=>e>0?e:((()=>{try{const e=new Audio("/sounds/1min_sound.mp3");e.volume=.4,e.play().catch((e=>{}))}catch(dt){}})(),_("🎁 1분 체류 보상! 일반 채팅 권한 획득!",!1),1))),t}))}),1e3);return()=>clearInterval(e)}),[]),e.useEffect((()=>{if(b>0){const e=setInterval((()=>{f((e=>{const t=Math.max(0,e-1e3);return n&&n({cooldown:t,canGetToken:0===t}),t}))}),1e3);return()=>clearInterval(e)}n&&n({cooldown:0,canGetToken:!0})}),[b,n]),e.useEffect((()=>{if(!ne)return setTimeout((()=>{A("테스터님이 25분34초로 3위를 기록했습니다!")}),1e4),void setTimeout((()=>{_("여기 정말 중독성 있네요 ㅠㅠ",!1)}),15e3);const e=o(ne,"live-feed/ranking-updates"),t=o(ne,"live-feed/global-chat");return d(e,(e=>{const t=e.val();if(t){const e=Object.values(t).sort(((e,t)=>t.timestamp-e.timestamp))[0];if(e&&Date.now()-e.timestamp<1e4){const t=`${e.username}님이 ${be(e.time)}으로 ${e.rank}위를 기록했습니다!`;A(t)}}})),d(t,(e=>{try{const t=e.val();if(t){const e=Object.entries(t).map((([e,t])=>({...t,key:e}))).sort(((e,t)=>t.timestamp-e.timestamp))[0];e&&Date.now()-e.timestamp<1e4&&S!==e.key&&!C.current.has(e.messageId)&&(_(e.message,!1,e.messageType||"basic"),I(e.key))}}catch(dt){Q.error("채팅 리스너 오류:",dt)}})),()=>{m(e),m(t)}}),[S]);const A=e=>{const t=Date.now()+Math.random();c((n=>[...n,{id:t,message:e}]))},_=(e,t=!1,n="basic")=>{const s=Date.now()+Math.random();h((a=>[...a,{id:s,message:e,isMyMessage:t,messageType:n}]))},$=(e,t)=>{"ranking"===t?c((t=>t.filter((t=>t.id!==e)))):"chat"===t&&h((t=>t.filter((t=>t.id!==e))))},F=y>0||k>0,D=0===b;return T.jsxs(T.Fragment,{children:[l.map((e=>T.jsx(Pe,{id:e.id,message:e.message,onComplete:e=>$(e,"ranking")},e.id))),x.map((e=>T.jsx(Ve,{id:e.id,message:e.message,isMyMessage:e.isMyMessage,messageType:e.messageType,onComplete:e=>$(e,"chat")},e.id))),T.jsxs("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-40 flex gap-2",children:[T.jsxs("button",{onClick:()=>g(!0),disabled:!1,className:"pokemon-button shadow-lg transition-all duration-300 "+(F?"bg-gradient-to-r from-green-400 to-blue-500 hover:from-green-500 hover:to-blue-600":"bg-gradient-to-r from-gray-400 to-gray-500 hover:from-gray-500 hover:to-gray-600 opacity-70"),title:F?"글로벌 메시지 보내기":"채팅 권한이 없습니다. 광고를 클릭해 권한을 획득하세요!",children:["💬 ",F?`메시지 보내기 (일반:${y} 프리미엄:${k})`:"메시지 보내기 (권한없음)"]}),!1]}),T.jsx(Ye,{isOpen:u,onClose:()=>g(!1),onSendMessage:(e,t="auto")=>{if(E===e)return;let n="none";if("premium"===t&&k>0?(n="premium",w((e=>e-1))):"basic"===t&&y>0?(n="basic",v((e=>e-1))):"auto"===t&&(k>0?(n="premium",w((e=>e-1))):y>0&&(n="basic",v((e=>e-1)))),"none"===n)return;"basic"===n?(()=>{try{const e=new Audio("/sounds/chat_send.mp3");e.volume=.35,e.play().catch((e=>{}))}catch(dt){}})():"premium"===n&&(()=>{try{const e=new Audio("/sounds/premium_chat.mp3");e.volume=.45,e.play().catch((e=>{}))}catch(dt){}})(),M(e);const s=Date.now()+"-"+Math.random();if(C.current.add(s),_(e,!0,n),setTimeout((()=>{M(null)}),3e3),!ne)return;const a=o(ne,"live-feed/global-chat"),r={message:e,timestamp:Date.now(),userAgent:navigator.userAgent.substring(0,50),messageId:s,messageType:n,isMyMessage:!1};p(a,r).then((()=>{})).catch((e=>{Q.error("채팅 메시지 전송 실패:",e),"PERMISSION_DENIED"===e.code?_("😔 서버 연결 문제로 메시지가 다른 사람들에게 전송되지 않았어요",!1):"NETWORK_ERROR"===e.code?_("🌐 네트워크 연결을 확인해 주세요",!1):_("😅 메시지 전송에 실패했지만 로컬에서는 보여요!",!1)}))},remainingTime:b,canChat:F,chatTokens:y,premiumTokens:k,onAdClick:()=>{if(0===b){(()=>{try{const e=new Audio("/sounds/ad_click.mp3");e.volume=.5,e.play().catch((e=>{}))}catch(dt){}})();const e=(()=>{const e=Math.floor(Math.random()*he.length);return he[e]})();window.open(e.url,"_blank"),w((e=>e+1)),f(3e4),_(`🎆 ${e.name} 광고 시청! 프리미엄 채팅 권한 1개 획득!`,!1)}},canGetTokenFromAd:D,elapsedTime:t})]})},Be=({elapsedTime:t,compact:n=!1})=>{const[s,a]=e.useState(!1),[r,o]=e.useState(.3),[i,l]=e.useState(null),[c,d]=e.useState(!1),m=e.useRef(null);e.useRef(null);const x={themes:[{name:"themesong1",file:"./bgm/themesong1.mp3",title:"시간낭비 테마 1"},{name:"themesong2",file:"./bgm/themesong2.mp3",title:"시간낭비 테마 2"}],phases:[{phase:1,minTime:0,maxTime:300,file:"./bgm/phase1.mp3",title:"초보자의 시간낭비"},{phase:2,minTime:300,maxTime:900,file:"./bgm/phase2.mp3",title:"중급자의 시간낭비"},{phase:3,minTime:900,maxTime:1800,file:"./bgm/phase3.mp3",title:"고급자의 시간낭비"},{phase:4,minTime:1800,maxTime:1/0,file:"./bgm/phase4.mp3",title:"마스터의 시간낭비"}]},h=e=>{if(e&&e.file!==(null==i?void 0:i.file))if(m.current&&s){const t=()=>{const n=m.current;n.volume>.05?(n.volume=Math.max(0,n.volume-.1),setTimeout(t,50)):(n.pause(),p(e))};t()}else p(e)},p=e=>{if(!m.current)return;m.current.src=e.file,m.current.volume=0,l(e);const t=()=>{const e=m.current.play();void 0!==e&&e.then((()=>{a(!0);const e=()=>{const t=m.current;if(!t)return;const n=c?0:r;t.volume<n-.05&&(t.volume=Math.min(n,t.volume+.05),setTimeout(e,50))};e()})).catch((e=>{a(!1)})),m.current.removeEventListener("canplay",t)};m.current.addEventListener("canplay",t),m.current.load()};e.useEffect((()=>{if(0===t){const e=setTimeout((()=>{const e=x.themes[Math.floor(Math.random()*x.themes.length)];h(e)}),1e3);return()=>clearTimeout(e)}}),[]),e.useEffect((()=>{if(t>0){const e=x.phases.find((e=>t>=e.minTime&&t<e.maxTime));!e||i&&i.file===e.file||h(e)}}),[Math.floor(t/60)]);const u=()=>{if(m.current)if(s)m.current.pause(),a(!1);else{const e=m.current.play();void 0!==e&&e.then((()=>a(!0))).catch((e=>{}))}},g=e=>{const t=Math.min(e,.5);o(t),m.current&&!c&&(m.current.volume=t)},b=()=>{d(!c),m.current&&(m.current.volume=c?r:0)};return n?T.jsxs("div",{className:"flex items-center gap-1 bg-black/90 text-white px-1.5 py-1 rounded-full backdrop-blur-sm shadow-lg border border-white/20",children:[T.jsx("button",{onClick:u,className:"flex items-center justify-center w-5 h-5 rounded-full hover:bg-white/20 transition-colors",title:s?"일시정지":"재생",children:s?T.jsxs("div",{className:"flex gap-0.5",children:[T.jsx("div",{className:"w-0.5 h-2 bg-white"}),T.jsx("div",{className:"w-0.5 h-2 bg-white"})]}):T.jsx("div",{className:"w-0 h-0 border-l-[4px] border-l-white border-t-[2px] border-t-transparent border-b-[2px] border-b-transparent ml-0.5"})}),T.jsx("button",{onClick:b,className:"flex items-center justify-center w-4 h-4 rounded-full hover:bg-white/20 transition-colors",title:c?"음소거 해제":"음소거",children:c?T.jsxs("svg",{className:"w-2.5 h-2.5",fill:"currentColor",viewBox:"0 0 20 20",children:[T.jsx("path",{d:"M10 4a1 1 0 00-1.707-.707L4.586 7H2a1 1 0 000 2v2a1 1 0 000 2h2.586l3.707 3.707A1 1 0 0010 16V4z"}),T.jsx("path",{d:"M17.293 6.293a1 1 0 00-1.414 1.414L17.586 9.5 15.879 11.207a1 1 0 101.414 1.414L19 10.914l1.707 1.707a1 1 0 001.414-1.414L20.414 9.5l1.707-1.707a1 1 0 00-1.414-1.414L19 7.086l-1.707-1.707z"})]}):T.jsxs("svg",{className:"w-2.5 h-2.5",fill:"currentColor",viewBox:"0 0 20 20",children:[T.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.617.817L4.067 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.067l4.316-3.817A1 1 0 019.383 3.076z",clipRule:"evenodd"}),T.jsx("path",{d:"M12.828 7.172a4 4 0 010 5.656 1 1 0 01-1.414-1.414 2 2 0 000-2.828 1 1 0 011.414-1.414z"})]})}),T.jsx("input",{type:"range",min:"0",max:"0.5",step:"0.05",value:r,onChange:e=>g(parseFloat(e.target.value)),className:"w-10 h-1 bg-white/30 rounded-full appearance-none cursor-pointer slider",title:"볼륨 조절"}),T.jsx("audio",{ref:m,loop:!0,preload:"auto",onLoadStart:()=>{},onCanPlay:()=>{},onError:()=>{},onEnded:()=>a(!1)}),T.jsx("style",{jsx:!0,children:"\n          .slider::-webkit-slider-thumb {\n            appearance: none;\n            width: 8px;\n            height: 8px;\n            border-radius: 50%;\n            background: white;\n            cursor: pointer;\n          }\n          \n          .slider::-moz-range-thumb {\n            width: 8px;\n            height: 8px;\n            border-radius: 50%;\n            background: white;\n            cursor: pointer;\n            border: none;\n          }\n        "})]}):T.jsxs("div",{className:"flex items-center gap-2 bg-black/70 text-white px-3 py-1 rounded-full backdrop-blur-sm",children:[T.jsx("button",{onClick:u,className:"flex items-center justify-center w-8 h-8 rounded-full hover:bg-white/20 transition-colors",title:s?"일시정지":"재생",children:s?T.jsxs("div",{className:"flex gap-0.5",children:[T.jsx("div",{className:"w-1 h-3 bg-white"}),T.jsx("div",{className:"w-1 h-3 bg-white"})]}):T.jsx("div",{className:"w-0 h-0 border-l-[6px] border-l-white border-t-[3px] border-t-transparent border-b-[3px] border-b-transparent ml-0.5"})}),T.jsx("button",{onClick:b,className:"flex items-center justify-center w-6 h-6 rounded hover:bg-white/20 transition-colors",title:c?"음소거 해제":"음소거",children:c?T.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[T.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.617.817L4.067 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.067l4.316-3.817zm2.617 0a1 1 0 011 1v12a1 1 0 01-1 1 1 1 0 01-.707-.293L9.586 15H7a1 1 0 01-1-1V6a1 1 0 011-1h2.586l1.707-1.707A1 1 0 0112 4z",clipRule:"evenodd"}),T.jsx("path",{d:"M15.536 6.464a1 1 0 10-1.414 1.414L15.536 9.29 13.12 11.707a1 1 0 101.414 1.414L16.95 10.707 19.36 13.12a1 1 0 001.414-1.414L18.36 9.293l2.414-2.414a1 1 0 00-1.414-1.414L16.95 7.88l-1.414-1.414z"})]}):T.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.617.817L4.067 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.067l4.316-3.817A1 1 0 019.383 3.076zM15.657 6.343a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-1.929 3.657 1 1 0 11-1.414-1.414A7.971 7.971 0 0017 10c0-.995-.102-1.951-.343-2.657a1 1 0 010-1.414zM13.657 8.343a1 1 0 011.414 0A5.98 5.98 0 0116 10a5.98 5.98 0 01-.929 1.657 1 1 0 11-1.414-1.414A3.98 3.98 0 0014 10c0-.229-.027-.453-.086-.657a1 1 0 010-1.414z",clipRule:"evenodd"})})}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx("input",{type:"range",min:"0",max:"0.5",step:"0.05",value:r,onChange:e=>g(parseFloat(e.target.value)),className:"w-16 h-1 bg-white/30 rounded-full appearance-none cursor-pointer slider",title:"볼륨 조절 (최대 50%)"}),T.jsxs("span",{className:"text-xs text-white/70 min-w-[30px]",children:[Math.round(200*r),"% "]})]}),T.jsx("audio",{ref:m,loop:!0,preload:"auto",onLoadStart:()=>{},onCanPlay:()=>{},onError:()=>{},onEnded:()=>a(!1)})]})},Xe=({isOpen:e,onClose:t})=>e?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:T.jsxs("div",{className:"pokemon-window max-w-4xl max-h-[90vh] mx-4 relative overflow-hidden",children:[T.jsxs("div",{className:"pokemon-stats flex justify-between items-center mb-0",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(B,{className:"w-6 h-6 text-yellow-300"}),T.jsx("h2",{className:"pokemon-font text-xl font-bold text-white",children:"개인정보처리방침"})]}),T.jsx("button",{onClick:t,className:"text-white hover:text-yellow-300 transition-colors p-1",children:T.jsx(J,{className:"w-6 h-6"})})]}),T.jsx("div",{className:"pokemon-dialog max-h-[70vh] overflow-y-auto",children:T.jsxs("div",{className:"pokemon-font text-sm leading-relaxed space-y-6",children:[T.jsxs("section",{children:[T.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-3 flex items-center gap-2",children:[T.jsx(R,{className:"w-5 h-5 text-blue-600"}),"1. 개인정보 수집 및 이용"]}),T.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border-2 border-blue-200",children:[T.jsxs("p",{className:"mb-2",children:[T.jsx("strong",{children:"수집 목적:"})," 시간낭비 계산기 서비스 제공 및 개선"]}),T.jsx("p",{className:"mb-2",children:T.jsx("strong",{children:"수집 항목:"})}),T.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[T.jsx("li",{children:"IP 주소 (익명화하여 통계 목적)"}),T.jsx("li",{children:"사용자 생성 닉네임 (랭킹 시스템용)"}),T.jsx("li",{children:"채팅 메시지 (실시간 소통용)"}),T.jsx("li",{children:"사이트 이용 시간 (서비스 핵심 기능)"}),T.jsx("li",{children:"쿠키 및 로컬 스토리지 (사용자 환경 설정)"})]}),T.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["📌 ",T.jsx("strong",{children:"개인 식별이 불가능한 정보만 수집"}),"하며, 이메일·전화번호 등 민감정보는 수집하지 않습니다."]})]})]}),T.jsxs("section",{children:[T.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-3 flex items-center gap-2",children:[T.jsx(F,{className:"w-5 h-5 text-green-600"}),"2. 보관 및 이용 기간"]}),T.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border-2 border-green-200",children:[T.jsxs("ul",{className:"space-y-2",children:[T.jsxs("li",{children:[T.jsx("strong",{children:"랭킹 데이터:"})," 서비스 종료 시까지"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"채팅 메시지:"})," 실시간 표시 후 자동 삭제"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"통계 데이터:"})," 익명화 후 분석 목적으로 보관"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"쿠키:"})," 브라우저 설정에 따라 관리"]})]}),T.jsx("p",{className:"mt-3 text-sm text-gray-600",children:"🔄 사용자는 언제든지 브라우저 데이터 삭제를 통해 정보를 제거할 수 있습니다."})]})]}),T.jsxs("section",{children:[T.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-3 flex items-center gap-2",children:[T.jsx(U,{className:"w-5 h-5 text-purple-600"}),"3. 제3자 제공 및 위탁"]}),T.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border-2 border-purple-200",children:[T.jsx("p",{className:"mb-3",children:T.jsx("strong",{children:"제3자 서비스 이용:"})}),T.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-2",children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Google Analytics:"})," 익명화된 사용 통계 분석"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Google AdSense:"})," 광고 서비스 제공"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Firebase:"})," 실시간 데이터베이스 서비스"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"쿠팡 파트너스:"})," 제휴 광고 서비스"]})]}),T.jsx("p",{className:"mt-3 text-sm text-gray-600",children:"🛡️ 모든 제3자 서비스는 해당 업체의 개인정보처리방침을 따릅니다."})]})]}),T.jsxs("section",{children:[T.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-3 flex items-center gap-2",children:[T.jsx(B,{className:"w-5 h-5 text-orange-600"}),"4. 사용자 권리 및 선택"]}),T.jsx("div",{className:"bg-orange-50 p-4 rounded-lg border-2 border-orange-200",children:T.jsxs("ul",{className:"space-y-2",children:[T.jsxs("li",{children:[T.jsx("strong",{children:"쿠키 거부:"})," 브라우저 설정에서 쿠키 사용 거부 가능"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"광고 개인화 거부:"})," Google 광고 설정에서 조정 가능"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"데이터 삭제:"})," 브라우저 데이터 삭제로 로컬 정보 제거"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"서비스 이용 중단:"})," 언제든지 사이트 이용 중단 가능"]})]})})]}),T.jsxs("section",{children:[T.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-3 flex items-center gap-2",children:[T.jsx(W,{className:"w-5 h-5 text-red-600"}),"5. 문의 및 연락처"]}),T.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border-2 border-red-200",children:[T.jsxs("p",{className:"mb-2",children:[T.jsx("strong",{children:"서비스 운영자:"})," TimeTrash.net"]}),T.jsxs("p",{className:"mb-2",children:[T.jsx("strong",{children:"개인정보 문의:"})," GitHub Issues 또는 사이트 내 피드백 시스템"]}),T.jsx("p",{className:"text-sm text-gray-600",children:"📧 개인정보 관련 문의사항이 있으시면 언제든지 연락 주세요."})]})]}),T.jsxs("section",{children:[T.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"6. 정책 변경 안내"}),T.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border-2 border-gray-200",children:[T.jsxs("p",{className:"mb-2",children:["본 개인정보처리방침은 ",T.jsx("strong",{children:"2025년 5월 31일"}),"부터 적용됩니다."]}),T.jsx("p",{className:"text-sm text-gray-600",children:"정책 변경 시 사이트 공지를 통해 사전 안내드리겠습니다."})]})]}),T.jsxs("div",{className:"text-center mt-8 pt-6 border-t-2 border-gray-200",children:[T.jsxs("p",{className:"text-sm text-gray-500",children:["🎮 ",T.jsx("strong",{children:"TimeTrash.net"})," - 당신의 소중한 시간을 유쾌하게 낭비시켜드립니다"]}),T.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"시간낭비도 책임감 있게! 개인정보도 안전하게!"})]})]})}),T.jsx("div",{className:"mt-6 text-center",children:T.jsx("button",{onClick:t,className:"pokemon-button",children:"확인했습니다"})})]})}):null,Ke=({isOpen:e,onClose:t})=>e?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:T.jsxs("div",{className:"pokemon-window max-w-4xl max-h-[90vh] mx-4 relative overflow-hidden",children:[T.jsxs("div",{className:"pokemon-stats flex justify-between items-center mb-0",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(H,{className:"w-6 h-6 text-yellow-300"}),T.jsx("h2",{className:"pokemon-font text-xl font-bold text-white",children:"서비스 이용약관"})]}),T.jsx("button",{onClick:t,className:"text-white hover:text-yellow-300 transition-colors p-1",children:T.jsx(J,{className:"w-6 h-6"})})]}),T.jsx("div",{className:"pokemon-dialog max-h-[70vh] overflow-y-auto",children:T.jsxs("div",{className:"pokemon-font text-sm leading-relaxed space-y-6",children:[T.jsxs("section",{children:[T.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-3 flex items-center gap-2",children:[T.jsx(D,{className:"w-5 h-5 text-blue-600"}),"1. 서비스 소개"]}),T.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border-2 border-blue-200",children:[T.jsxs("p",{className:"mb-2",children:[T.jsx("strong",{children:"TimeTrash.net (시간낭비 계산기)"}),"는 사용자의 시간 소비를 유쾌하게 추적하고 재미있는 경험을 제공하는 웹 서비스입니다."]}),T.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[T.jsx("li",{children:"실시간 시간 추적 및 색상 변화 타이머"}),T.jsx("li",{children:"글로벌 실시간 채팅 시스템"}),T.jsx("li",{children:"TOP 20 랭킹 시스템"}),T.jsx("li",{children:"배경음악 및 축하 이펙트"}),T.jsx("li",{children:"제휴 광고 서비스"})]})]})]}),T.jsxs("section",{children:[T.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-3 flex items-center gap-2",children:[T.jsx(q,{className:"w-5 h-5 text-green-600"}),"2. 이용 규칙"]}),T.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border-2 border-green-200",children:[T.jsx("p",{className:"mb-3",children:T.jsx("strong",{children:"허용되는 행위:"})}),T.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1 mb-4",children:[T.jsx("li",{children:"서비스의 의도된 방식대로 시간낭비하기"}),T.jsx("li",{children:"건전한 채팅 메시지 작성"}),T.jsx("li",{children:"랭킹 경쟁 참여"}),T.jsx("li",{children:"친구들과 사이트 공유"})]}),T.jsx("p",{className:"mb-3",children:T.jsx("strong",{className:"text-red-600",children:"금지되는 행위:"})}),T.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[T.jsx("li",{children:"욕설, 혐오 발언, 성희롱 등 부적절한 채팅"}),T.jsx("li",{children:"광고, 스팸, 도배성 메시지"}),T.jsx("li",{children:"서비스 방해 또는 악용"}),T.jsx("li",{children:"다른 사용자 괴롭히기"}),T.jsx("li",{children:"불법적인 내용 공유"})]})]})]}),T.jsxs("section",{children:[T.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-3 flex items-center gap-2",children:[T.jsx($,{className:"w-5 h-5 text-orange-600"}),"3. 서비스 제한 및 책임"]}),T.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border-2 border-orange-200",children:[T.jsx("p",{className:"mb-3",children:T.jsx("strong",{children:"서비스 제한:"})}),T.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1 mb-4",children:[T.jsx("li",{children:"서비스는 무료로 제공되며, 중단될 수 있습니다"}),T.jsx("li",{children:"데이터 손실에 대한 책임을 지지 않습니다"}),T.jsx("li",{children:"서버 점검 등으로 일시적 중단이 있을 수 있습니다"})]}),T.jsx("p",{className:"mb-3",children:T.jsx("strong",{children:"사용자 책임:"})}),T.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[T.jsx("li",{children:"과도한 시간 사용으로 인한 모든 결과는 사용자 책임"}),T.jsx("li",{children:"채팅 내용에 대한 법적 책임은 작성자에게 있음"}),T.jsx("li",{children:"타인의 권리 침해 시 사용자가 책임짐"})]})]})]}),T.jsxs("section",{children:[T.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-3 flex items-center gap-2",children:[T.jsx(Z,{className:"w-5 h-5 text-purple-600"}),"4. 광고 및 제휴 서비스"]}),T.jsx("div",{className:"bg-purple-50 p-4 rounded-lg border-2 border-purple-200",children:T.jsxs("ul",{className:"space-y-2",children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Google AdSense:"})," 개인화된 광고가 표시될 수 있습니다"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"쿠팡 파트너스:"})," 제휴 링크를 통한 상품 추천"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"광고 수익:"})," 사이트 운영비로 사용됩니다"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"광고 차단:"})," 광고 차단기 사용은 허용되나 서비스 품질에 영향을 줄 수 있습니다"]})]})})]}),T.jsxs("section",{children:[T.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"5. 지적재산권"}),T.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border-2 border-gray-200",children:T.jsxs("ul",{className:"space-y-2",children:[T.jsxs("li",{children:[T.jsx("strong",{children:"서비스 콘텐츠:"})," TimeTrash.net의 독창적 콘텐츠입니다"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"사용자 콘텐츠:"})," 채팅 메시지 등은 작성자에게 권리가 있습니다"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"오픈소스:"})," 일부 기술은 오픈소스 라이선스를 따릅니다"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"폰트:"})," Galmuri 폰트 등 제3자 리소스는 해당 라이선스를 따릅니다"]})]})})]}),T.jsxs("section",{children:[T.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"6. 약관 변경"}),T.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border-2 border-blue-200",children:[T.jsxs("p",{className:"mb-2",children:["본 이용약관은 ",T.jsx("strong",{children:"2025년 5월 31일"}),"부터 적용됩니다."]}),T.jsx("p",{className:"mb-2",children:"약관 변경 시 사이트 내 공지를 통해 사전 안내합니다."}),T.jsx("p",{className:"text-sm text-gray-600",children:"변경된 약관에 동의하지 않을 경우 서비스 이용을 중단하시기 바랍니다."})]})]}),T.jsxs("section",{className:"bg-yellow-50 p-4 rounded-lg border-2 border-yellow-300",children:[T.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"⚠️ 특별 면책 조항"}),T.jsxs("div",{className:"text-sm space-y-2",children:[T.jsxs("p",{children:[T.jsx("strong",{children:"🕒 시간 낭비 관련:"})," 본 사이트에서 낭비한 시간에 대해 책임지지 않습니다. 애초에 시간낭비가 목적인 사이트입니다."]}),T.jsxs("p",{children:[T.jsx("strong",{children:"🤦‍♂️ 생산성 저하:"})," 본 사이트 이용 후 발생하는 생산성 저하, 업무 지연, 학습 방해 등에 대해 책임지지 않습니다."]}),T.jsxs("p",{children:[T.jsx("strong",{children:"😅 중독성:"})," 본 사이트의 중독성에 대해 경고드리며, 적당한 이용을 권장합니다."]}),T.jsxs("p",{children:[T.jsx("strong",{children:"🤔 실존적 고민:"}),' "내가 지금 뭘 하고 있는 거지?"라는 생각이 드는 것은 정상입니다.']})]})]}),T.jsxs("div",{className:"text-center mt-8 pt-6 border-t-2 border-gray-200",children:[T.jsxs("p",{className:"text-sm text-gray-500",children:["🎮 ",T.jsx("strong",{children:"TimeTrash.net"})," - 시간낭비의 새로운 패러다임"]}),T.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'"시간은 금이다. 그런데 우리는 파산 전문가다."'})]})]})}),T.jsx("div",{className:"mt-6 text-center",children:T.jsx("button",{onClick:t,className:"pokemon-button",children:"동의하고 계속 시간낭비하기"})})]})}):null,qe=()=>{const[t,n]=e.useState(!1),[s,a]=e.useState(!1);return T.jsxs(T.Fragment,{children:[T.jsx("footer",{className:"pokemon-dialog mt-8 text-center",children:T.jsxs("div",{className:"pokemon-font text-sm space-y-4",children:[T.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-gray-600",children:[T.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-1 hover:text-blue-600 transition-colors",children:[T.jsx(B,{className:"w-4 h-4"}),"개인정보처리방침"]}),T.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-1 hover:text-green-600 transition-colors",children:[T.jsx(H,{className:"w-4 h-4"}),"이용약관"]}),T.jsxs("a",{href:"https://github.com/pg-Parunson/timewaster",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-purple-600 transition-colors",children:[T.jsx(P,{className:"w-4 h-4"}),"GitHub"]})]}),T.jsx("div",{className:"border-t-2 border-gray-200 pt-4",children:T.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-2 text-xs text-gray-500",children:[T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx("span",{children:"© 2025 TimeTrash.net"}),T.jsx(V,{className:"w-3 h-3 text-red-400"}),T.jsx("span",{children:"시간낭비의 새로운 패러다임"})]}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("span",{children:"v1.0.0"}),T.jsx("span",{children:"•"}),T.jsxs("span",{className:"flex items-center gap-1",children:[T.jsx(W,{className:"w-3 h-3"}),"Contact via GitHub"]})]})]})})]})}),T.jsx(Xe,{isOpen:t,onClose:()=>n(!1)}),T.jsx(Ke,{isOpen:s,onClose:()=>a(!1)})]})},Je={incrementVisits:()=>{const e=parseInt(localStorage.getItem("timewaster_visits")||"0")+1;return localStorage.setItem("timewaster_visits",e.toString()),e},getTotalTimeWasted:()=>parseInt(localStorage.getItem("timewaster_total_time")||"0"),updateTotalTimeWasted:e=>{const t=Je.getTotalTimeWasted()+e;return localStorage.setItem("timewaster_total_time",t.toString()),t},getAdClicks:()=>parseInt(localStorage.getItem("timewaster_ad_clicks")||"0"),incrementAdClicks:()=>{const e=Je.getAdClicks()+1;return localStorage.setItem("timewaster_ad_clicks",e.toString()),e},getAllData:()=>({visits:parseInt(localStorage.getItem("timewaster_visits")||"0"),totalTimeWasted:Je.getTotalTimeWasted(),adClicks:Je.getAdClicks()})},Ze=["와... 진짜 대단하시네요. 시간 죽이기 프로세요?","이러고 있을 시간에 배달음식이라도 시켜드세요","친구들은 지금 인스타 스토리 올리고 있는데 여긴 뭐하러...","엄마가 보면 한숨 푹푹 쉬실 것 같은데요","이 끈기로 주식 공부했으면 부자 됐을 텐데... 아깝네","지금 몇 시인지 아세요? 아, 시간 개념이 없으시구나","이런 집중력이면 수능 만점도 가능했을 텐데...","취미가 시간낭비인가요? 꽤 잘하시네요","아무래도 시간이 너무 많으신 것 같아요","다른 사람들은 지금 돈 벌고 있는데... 아이고","이 인내심으로 다이어트 했으면 몸매 끝장났을 텐데","부모님 용돈이라도 벌어드리세요... 제발","이거 보고 있는 게 제일 생산적인 일인가요?","시간 = 돈인데 지금 얼마나 태우고 계신지 아세요?","진짜... 이럴 시간에 자기계발서라도 읽으세요","남들은 넷플릭스 보면서 쉬는데 여긴 왜 와서...","이런 몰입도면 게임 프로게이머 해도 될 듯","시간낭비 올림픽 있으면 금메달감이에요 진짜","이 시간에 운동 30분만 해도 건강해질 텐데...","친구들이 연락 안 하는 이유를 알 것 같아요","아... 인생이 이렇게 여유로우시다니 부럽네요","시간 녹이는 기술이 이 정도면 프로급이에요","이런 여유가 있으시다니... 금수저세요?","시간표에 '멍때리기' 항목이 따로 있나요?","이 끈기로 영어공부 했으면 토익 990점...","부모님이 등록금 아까워하실 것 같은데요","미래의 나에게 욕먹을 각오 되셨나요?","이 정도면 시간낭비계의 인플루언서에요","지금 뇌세포들이 파업 중인 것 같아요","아무것도 안 하는 것도 재능이긴 하죠... 근데","이런 집중력을 어디다 쓰시는 거예요 진짜","시간아 미안해... 이 사람 때문에 억울하게 갔어","이 시간에 부모님께 안부전화라도 드리세요","혹시 시간이 무한하다고 착각하고 계신가요?","이런 인내심이면 명상 고수 될 수 있어요","진짜 대단해요... 나쁜 의미로","이 몰입감으로 책 읽으면 박사학위 따겠어요","시간낭비도 예술의 경지까지 오르셨네요","이거 하나의 철학인가요? 시간낭비주의?","기네스북 도전해보세요. 시간낭비 부문으로","아 진짜 ㅋㅋㅋㅋ 이런 사람 처음 봐요","이 시간에 치킨이라도 시켜먹지 그래요","남친/여친이 있으면 화낼 것 같은데... 아 없구나","이런 끈기면 롤 챌린저도 찍을 수 있어요","엄마: 뭐하냐? 당신: 시간낭비요... 대화 끝","진짜 존경스러워요... 이런 의미로는 처음이지만","이 집중력 어디서 배웠어요? 독학이세요?","시간낭비 마스터급이시네요 ㄷㄷ","이 정도면 시간을 원수로 보시는 건가요?","뇌가 휴가 중인 것 같아요... 언제까지?","이런 재능은 어디서 써먹을 수 있나요?","아무것도 안 하는 것도 힘든 일이죠... 수고하세요","시간낭비 레전드 탄생하는 순간을 목격 중","이 여유로움... 혹시 은퇴하셨나요?","남들은 스펙 쌓는데 여긴 왜 와서 시간 쌓고...","이런 몰입력이면 유튜브 크리에이터 해도 될 듯","친구들 단톡방에서 '얘 지금 뭐하냐' 이러고 있을걸요","이 시간에 자소서라도 쓰세요... 취업 힘들어요 요즘","시간낭비 본좌 등극! 앞으로 '님'자 붙여 부를게요","이런 끈기로 주식 했으면... 아니 그것도 도박이니까"],Qe={rank1:["🏆 축하해요! 시간낭비 킹왕짱 등극! ...이게 자랑인가?","👑 1위 달성! 다른 분야에서도 이런 실력을...","🥇 시간낭비계의 전설이 되셨네요","⭐ 우와... 진짜 대단하세요. 시간낭비 1등이라니","🔥 1등! 부모님께 자랑할 수 있을까요?"],topRank:["🥈 2등! 1등과의 격차가 얼마나 될까요?","🥉 3등 입상! 시상식은 언제 하나요?","🏅 메달 획득! 근데 이런 메달은 좀...","✨ 상위권! 이 실력을 다른 곳에 써보세요","🎖️ 톱랭커 등극! 근데 분야가 좀 그렇네요"],top10:["📈 톱10! 시간낭비 고수시네요 ㄷㄷ","🎯 상위 10위! 근데 기뻐해야 하나 말아야 하나","🚀 랭킹 상승! 이 방향성이 맞나요?","💎 다이아 등급! 시간낭비 프로게이머네요","🌟 스타 등극! 근데 이런 스타는 좀..."],firstRank:["🎉 첫 랭킹! 시간낭비 세계에 입문하셨네요","🔰 랭킹 데뷔! 앞으로가 더 걱정되는데요","🎊 랭킹 진입! 이제 진짜 시작이군요","🌈 첫 기록! 기록 경신하지 마세요","🎁 랭킹 입성! 축하...해야 하나요?"],rankUp:["📊 순위 UP! 시간낭비 실력이 늘고 있어요","⬆️ 랭킹 상승! 이 성장세를 다른 곳에서도...","🔼 레벨업! 잘못된 방향으로 성장 중","📈 급성장! 이 추진력을 좀 다른 곳에...","🌪️ 수직상승! 근데 이런 건 자랑 못해요"],endurance:["🏃‍♂️ 이 지구력으로 마라톤 뛰세요! 진짜로!","💪 끈기 대박! 이걸 어디다 쓸 거예요?","🧘‍♀️ 명상 수행자급! 근데 뭘 깨달으셨어요?","🎭 시간낭비계 철인! 타이틀이 좀 그렇네요","🦁 라이언 하트! 방향만 바꾸면 뭐든 될 듯"]},et={dawn:["새벽에 뭐하세요? 잠은 포기하신 건가요?","새벽형 인간이세요? 근데 이런 건 아니죠","이 시간에 안 자고 뭐하시는 거예요 진짜","새벽 감성으로 시간낭비? 로맨틱하네요","불면증이세요? 그럼 차라리 책이라도 읽으세요"],morning:["아침부터 이러시면... 하루가 걱정돼요","모닝커피 대신 시간낭비로 하루 시작?","아침 시간이 제일 소중한데... 아이고","오전에 뇌가 제일 활발한데 이럴 거예요?","아침 루틴이 시간낭비인가요?"],afternoon:["점심 먹고 졸리는 건 이해하는데... 이건 좀","오후 시간 아까워요! 뭔가 해보세요!","이 시간에 운동이라도 하세요... 제발","오후 3시 슬럼프? 그럼 차라리 낮잠이라도","황금 시간대를 이렇게... 아깝다 아까워"],evening:["저녁까지 여기 계시네요... 집에 가세요","저녁 시간인데 친구들 안 만나요?","하루 마무리를 이렇게? 좀 슬프네요","저녁 약속도 없이 여기서 시간낭비?","오늘 하루 뭐했는지 돌아보는 시간이에요"]},tt=(e,t)=>{const n=Math.floor(t/60);return 1===e?Qe.rank1[Math.floor(Math.random()*Qe.rank1.length)]:e<=3?Qe.topRank[Math.floor(Math.random()*Qe.topRank.length)]:e<=10?Qe.top10[Math.floor(Math.random()*Qe.top10.length)]:n>=30?Qe.endurance[Math.floor(Math.random()*Qe.endurance.length)]:Qe.firstRank[Math.floor(Math.random()*Qe.firstRank.length)]},nt=()=>{const e=(new Date).getHours();let t="morning";t=e>=0&&e<7?"dawn":e>=7&&e<13?"morning":e>=13&&e<19?"afternoon":"evening";const n=et[t];return n[Math.floor(Math.random()*n.length)]},st=(e,t=null,n={})=>{const s=Math.random();if(t&&s<.2)return{type:"ranking",message:tt(t,e),category:"ranking"};if(s<.6){const t=((e,t={})=>{const n=Ue(e,t),s=[`${n.timeSpent} 동안 여기 계셨다고요? 와...`,`이 시간에 "${n.activities[0]}" 했으면 인생이 달라졌을 텐데`,`${n.message} - 지금이라도 일어나세요!`,`현재 뇌 상태: ${n.brainState}. 좀 움직이세요!`,`${n.difficulty} 난이도 활동들이 기다리는데... 언제까지?`,"이 시간이면 진짜 뭐든 할 수 있었는데... 아깝다","시간이 돈이라면 지금 얼마나 태우고 계신 거예요?","친구들은 지금 뭐하고 있을까요? 궁금하지 않아요?"];return n.personalizedTip&&s.push(`💡 진짜 팁: ${n.personalizedTip} 한번 해보세요!`),{message:s[Math.floor(Math.random()*s.length)],activityRecommendation:n,theme:He[n.category]}})(e,n);return{type:"smart",message:t.message,category:"activity",recommendation:t.activityRecommendation,theme:t.theme}}return s<.8?{type:"timeBased",message:nt(),category:"timeOfDay"}:{type:"roast",message:Ze[Math.floor(Math.random()*Ze.length)],category:"general"}},at=["아... 이미 1분 날렸는데 이제 쇼핑도 하세요","시간 낭비하는 김에 진짜 필요한 거라도 사요!","어차피 시간 버렸으니까 돈도 써보세요~ 🛒","아이고... 이 시간에 차라리 뭐라도 주문하세요","시간낭비 + 돈낭비 = 완벽한 조합?","이미 늦었어요! 아예 쇼핑이나 하고 가세요","쿠팡에서 뭔가 사면서 시간낭비를 정당화해보세요","어? 벌써 여기까지? 그럼 이것도 한 번 보고 가요!","죄책감은 쇼핑으로 해결하는 게 국룰 아닌가요? 🤷‍♂️","마지막 기회! 시간 아까우니까 빨리 보고 가세요!","시간낭비 마스터라면 충동구매도 마스터해야죠!","진짜 마지막! 이거 안 보면 오늘 하루 완전 손해에요","어차피 돈도 시간도 다 날리는 거... 뭔 차이예요?","시간 버린 김에 지갑도 비워보실래요? 😅","이 정도면 쇼핑 중독자 인정! 한 번 더 봐요~"],rt=()=>{const[t]=e.useState(Date.now()),[n,s]=e.useState(0),[a,r]=e.useState("와... 진짜 여기 오셨네요? 시간낭비 시작!"),[o,i]=e.useState(null),[l,c]=e.useState("와... 진짜 여기 오셨네요? 시간낭비 시작!"),[d,m]=e.useState({visits:1,patterns:{}}),[x,h]=e.useState(Me[0]),[p,u]=e.useState(!1),[g,b]=e.useState(at[0]),[f,y]=e.useState(1),[v,k]=e.useState(0),[w,j]=e.useState(0),[N,S]=e.useState(!1),[T,I]=e.useState(!0),[C,E]=e.useState(!1),[M,A]=e.useState(!1),[_,$]=e.useState(1),[F,D]=e.useState(null),[O,L]=e.useState(!1),[R,z]=e.useState(null),[U,H]=e.useState(0),P=e.useRef(null),V=e.useCallback((e=>{if(P.current&&(clearTimeout(P.current),P.current=null),!e||"string"!=typeof e)return c("오류가 발생했습니다. 다시 시도해주세요."),void A(!1);A(!0),c("");const t=Array.from(e);let n="",s=0;const a=()=>{s<t.length?(n+=t[s],c(n),s++,P.current=setTimeout(a,20+15*Math.random())):A(!1)};a()}),[]),W=e.useCallback((async e=>{if(O)try{const t=await fe.getExpectedRank(e),n=R;if(z(t),n&&t<n&&t<=10){if((async(e,t,n,s="daily")=>{const a=n||Fe(),r={daily:"일간",weekly:"주간",monthly:"월간",allTime:"전체"}[s];let o;o=1===e?`🏆 ${a}님이 ${r} 랭킹 1위 달성! (${t}분)`:e<=3?`🥉 ${a}님이 ${r} 랭킹 ${e}위 진입! (${t}분)`:`📈 ${a}님이 ${r} 랭킹 ${e}위 진입! (${t}분)`,await $e("ranking",o,{rank:e,minutes:t,nickname:a,period:s})})(t,Math.floor(e/60),null==F?void 0:F.anonymousName),Math.random()<.3){const n=tt(t,e);r(n),V(n)}}}catch(dt){Q.error("랭킹 확인 실패:",dt)}}),[O,R,F,V]),Y=e.useCallback((()=>{if(n<10){const e="드디어 시작이네요! 시간낭비의 대장정에 오신 걸 환영합니다";return r(e),i(null),void V(e)}const e={visits:f,timeSpent:n,adClicks:w,patterns:{frequentVisitor:f>=3,longTimeUser:n>=1800,extremeUser:C}};m(e);const t=st(n,R,e);if(r(t.message),i(t),V(t.message),Math.random()<.4){const e=Me[Math.floor(Math.random()*Me.length)];h(e)}S(!0),setTimeout((()=>S(!1)),500)}),[n,f,w,C,R,V]);return e.useEffect((()=>{(async()=>{try{const e=await me.incrementVisits();y(e);const t=await me.getGlobalStats();k(t.totalTimeWasted);const n=Je.getAllData();j(n.adClicks);const s=me.onStatsChange((e=>{y(e.totalVisits),k(e.totalTimeWasted)})),a=me.onActiveSessionsChange((e=>{$(e)}));return ve(e,t.totalTimeWasted),()=>{s(),a()}}catch(dt){Q.error("통계 초기화 실패:",dt);const t=Je.incrementVisits(),n=Je.getAllData();y(t),k(n.totalTimeWasted),j(n.adClicks),ve(t,n.totalTimeWasted)}})()}),[]),e.useEffect((()=>((async()=>{try{const e=await fe.initializeSession();D(e),L(!0)}catch(dt){Q.error("Firebase 랭킹 시스템 초기화 실패:",dt),L(!1)}})(),()=>{O&&(fe.endSession(),me.updateOnSessionEnd(n))})),[]),e.useEffect((()=>{const e=setTimeout((()=>{V(a)}),100);return()=>clearTimeout(e)}),[]),e.useEffect((()=>{const e=setInterval((()=>{if(T){const e=Date.now(),n=Math.floor((e-t)/1e3);if(s(n),O&&n>0){if(fe.updateTime(n),60===n||180===n||300===n||600===n||900===n||1800===n||3600===n){(async(e,t)=>{const n=t||Fe(),s=`${n}님이 ${e}분 달성! 🎉`;await $e("milestone",s,{minutes:e,nickname:n})})(Math.floor(n/60),null==F?void 0:F.anonymousName)}if(n>60&&n%30==0&&n!==U&&(H(n),W(n)),n>30&&n%30==0&&Math.random()<.3){(async(e,t)=>{const n=t||Fe(),s=`💫 ${n}님: ${e}`;await $e("activity",s,{activity:e,nickname:n})})(`${n}초 동안 "${Ue(n).activities[0]||"생산적인 일"}" 생각 중...`,null==F?void 0:F.anonymousName)}}n>=60&&!p&&u(!0),n>=300&&!C&&(E(!0),ke()),n>0&&n%45==0&&Y()}}),1e3);return()=>clearInterval(e)}),[t,T,p,C,O,F,U,W,Y]),e.useEffect((()=>{if(!p||M)return;const e=Math.floor(n/60),t=Math.min(e-1,at.length-1);if(t>=0&&t<at.length){b(at[t])}}),[p,M,Math.floor(n/60)]),e.useEffect((()=>{const e=()=>{const e=!document.hidden;I(e),document.title=e?"🕒 당신이 낭비한 시간 계산기":"돌아와요... 🥺 - 시간낭비 계산기"};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)}),[]),e.useEffect((()=>{const e=e=>{if(n>60){Je.updateTotalTimeWasted(n),me.updateOnSessionEnd(n);const t="아 진짜 나가세요? 이제 막 재밌어지려고 했는데... 아까워요!";return e.preventDefault(),e.returnValue=t,t}};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)}),[n]),{startTime:t,elapsedTime:n,currentMessage:a,currentMessageData:o,displayMessage:l,userHistory:d,buttonText:x,showAd:p,adMessage:g,visits:f,totalTimeWasted:v,adClicks:w,messageShake:N,isPageVisible:T,extremeMode:C,isTyping:M,concurrentUsers:_,currentUser:F,isRankingInitialized:O,currentRank:R,typeMessage:V,refreshMessage:Y,checkCurrentRanking:W,setCurrentMessage:r,setCurrentMessageData:i,setDisplayMessage:c,setButtonText:h,setAdMessage:b,setAdClicks:j,setMessageShake:S}},ot=e=>{const t=Math.floor(e/60);return t<1?{color:"var(--pokemon-orange)",textShadow:"4px 4px 0px var(--pokemon-navy), -2px -2px 0px var(--pokemon-white)"}:t<3?{color:"#FFD700",textShadow:"4px 4px 0px #B8860B, -2px -2px 0px var(--pokemon-white)"}:t<5?{color:"#FF8C00",textShadow:"4px 4px 0px #CC4400, -2px -2px 0px var(--pokemon-white)"}:t<10?{color:"#FF4444",textShadow:"4px 4px 0px #CC0000, -2px -2px 0px var(--pokemon-white)"}:t<15?{color:"#CC0000",textShadow:"4px 4px 0px #800000, -2px -2px 0px var(--pokemon-white)"}:{color:"#8B00FF",textShadow:"4px 4px 0px #4B0080, -2px -2px 0px var(--pokemon-white)"}},it=["당신의 소중한 인생이 녹고 있습니다","시간은 금이라고? 지금 파산중","뇌세포 실시간 사망 알림","하루 24시간 중 몇 시간을 날렸나요?","엄마가 보면 울 사이트","생산성 -100% 달성 중","당신의 집중력이 산산조각나는 소리","미래의 나에게 미안한 시간들","프로급 시간낭비 스킬을 배워보세요","시간 마스터가 되는 그 순간까지"],lt=e=>{const t={warning:"bg-red-50 border-red-300 text-red-800",motivation:"bg-blue-50 border-blue-300 text-blue-800",funny:"bg-green-50 border-green-300 text-green-800",sarcastic:"bg-yellow-50 border-yellow-300 text-yellow-800",urgent:"bg-orange-50 border-orange-300 text-orange-800",default:"bg-gray-50 border-gray-300 text-gray-800"};return t[e]||t.default};function ct(){const[t,n]=e.useState({cooldown:0,canGetToken:!0}),[s,a]=e.useState(0),[r,o]=e.useState(0),[i,l]=e.useState(!1),[c,d]=e.useState(300);e.useEffect((()=>{if(t.cooldown>0){const e=setInterval((()=>{n((e=>{const t=Math.max(0,e.cooldown-1e3);return{cooldown:t,canGetToken:0===t}}))}),1e3);return()=>clearInterval(e)}}),[t.cooldown]);const{currentSubtitle:m,isAnimating:x}=(()=>{const[t,n]=e.useState(0),[s,a]=e.useState(!1);return e.useEffect((()=>{const e=setInterval((()=>{a(!0),setTimeout((()=>{n((e=>(e+1)%it.length)),a(!1)}),500)}),1e4);return()=>clearInterval(e)}),[]),{currentSubtitle:it[t],isAnimating:s}})(),{elapsedTime:h,currentMessage:p,currentMessageData:u,displayMessage:g,buttonText:b,showAd:f,adMessage:y,visits:v,totalTimeWasted:k,adClicks:w,messageShake:j,extremeMode:N,isTyping:S,concurrentUsers:I,currentUser:C,isRankingInitialized:E,refreshMessage:M,setAdClicks:A}=rt(),{showModal:_,modalConfig:$,showRankingModal:F,showModernModal:D,handleActivitySelect:O,handleProductClick:L,handleExit:R,handleRankingModalClose:z,handleRankingModalExit:U,confirmExit:H,setShowModal:P}=(({elapsedTime:t,adClicks:n,setAdClicks:s,totalTimeWasted:a,visits:r,isRankingInitialized:o,currentUser:i,premiumTokens:l,setPremiumTokens:c,adCooldownInfo:d,setAdCooldownInfo:m})=>{const[x,h]=e.useState(!1),[p,u]=e.useState({}),[g,b]=e.useState(!1),f=(e,t,n="info",s=!1)=>{u({title:e,message:t,type:n,showCancel:s}),h(!0)};return{showModal:x,modalConfig:p,showRankingModal:g,showModernModal:f,handleActivitySelect:e=>{"start_activity"===e?f("🚀 대단해요!","드디어 생산적인 일을 시작하시는군요! 이 의지를 계속 유지해보세요. 아니면... 조금 더 여기 있어도 괜찮아요 😏","success"):(f("✨ 훌륭한 선택!",`"${e}" 정말 좋은 아이디어네요! 지금 당장 시작해보세요. 더 늦기 전에 말이에요...`,"info"),Se(e,t))},handleProductClick:()=>{if(!d.canGetToken)return void f("🕰️ 쿨다운 중!",`아직 ${Math.ceil(d.cooldown/1e3)}초 남았어요! 조금만 기다리세요`,"warning");const e=pe(t);we(e.name,e.category,t,n+1),window.open(e.url,"_blank"),c&&c((e=>e+1)),m&&m({cooldown:3e4,canGetToken:!1});const a=[`${e.icon} ${e.name} 좋은 선택이에요! 🎆 프리미엄 채팅 권한 지급!`,`훌륭해요! ${e.category} 분야 투자는 언제나 옳습니다!`,`${e.name}로 시간낭비를 생산적으로 만드셨네요!`,`감사합니다! ${e.category} 상품 클릭으로 사이트를 후원해주셨어요!`,`완벽한 선택! ${e.name}은 정말 추천하는 아이템이에요!`],r=a[Math.floor(Math.random()*a.length)];f("쿠팡 파트너스 클릭!",r,"success");const o=Je.incrementAdClicks();s(o)},handleExit:()=>{b(!0)},handleRankingModalClose:()=>{b(!1)},handleRankingModalExit:()=>{b(!1),f("현실로 돌아가시겠습니까?","정말로 이 환상적인 시간낭비를 끝내시겠습니까? 지금까지의 모든 노력이 물거품이 될 수 있어요!","exit",!0)},confirmExit:()=>{Ne(t),Je.updateTotalTimeWasted(t),h(!1),b(!1),o&&fe.endSession(),setTimeout((()=>{window.history.length>1?window.history.back():window.location.reload()}),100)},setShowModal:h,setShowRankingModal:b}})({elapsedTime:h,adClicks:w,setAdClicks:A,totalTimeWasted:k,visits:v,isRankingInitialized:E,currentUser:C,premiumTokens:r,setPremiumTokens:o,adCooldownInfo:t,setAdCooldownInfo:n}),V=()=>{l(!1)};return e.useEffect((()=>{const e=document.createElement("style");e.textContent="\n      /* Galmuri 폰트가 이미 import 되어 있음 */\n      \n      /* 📝 텍스트 커서(캐릿) 깜빡거리는 것 숨기기 */\n      * {\n        caret-color: transparent !important;\n      }\n      \n      /* 포켓몬 골드 진짜 컬러 팔레트 - 더 선명하게! */\n      :root {\n        --pokemon-gold: #FFD700;\n        --pokemon-orange: #FF6B35;\n        --pokemon-navy: #003366;\n        --pokemon-black: #000000;\n        --pokemon-white: #FFFFFF;\n        --pokemon-bg: #E8F4FD;\n        --pokemon-shadow: #2C5AA0;\n        --pokemon-border: #1E3A8A;\n        --pokemon-text: #1A1A1A;\n        --pokemon-light-blue: #B3D9FF;\n      }\n      \n      /* 레트로 픽셀 폰트 - Galmuri (깔끔하게 수정) */\n      .pokemon-font {\n        font-family: 'Galmuri11', 'Galmuri9', monospace;\n        font-weight: normal;\n        /* 그림자 제거 - 깔끔하게 */\n      }\n      \n      .pokemon-title {\n        font-family: 'Galmuri14', 'Galmuri11', monospace;\n        font-weight: bold;\n        font-size: 2.5rem;\n        color: var(--pokemon-orange);\n        text-shadow: \n          3px 3px 0px var(--pokemon-navy),\n          -1px -1px 0px var(--pokemon-white);\n        letter-spacing: 2px;\n      }\n      \n      /* 회전 부제목 스타일 */\n      .pokemon-subtitle {\n        font-family: 'Galmuri11', 'Galmuri9', monospace;\n        font-size: 1.1rem;\n        color: var(--pokemon-navy);\n        text-shadow: 1px 1px 0px var(--pokemon-white);\n        transition: opacity 0.5s ease, transform 0.5s ease;\n        min-height: 28px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n      \n      .pokemon-subtitle.animating {\n        opacity: 0;\n        transform: translateY(-10px);\n      }\n      \n      .pokemon-subtitle:not(.animating) {\n        opacity: 1;\n        transform: translateY(0);\n      }\n      \n      /* 포켓몬 대화창 스타일 - 깔끔하게 단순화! */\n      .pokemon-dialog {\n        background: var(--pokemon-white);\n        color: var(--pokemon-text);\n        border: 3px solid var(--pokemon-black);\n        border-radius: 8px;\n        padding: 20px;\n        /* 복잡한 그림자 제거 - 깔끔하게 */\n        box-shadow: 4px 4px 0px rgba(0,0,0,0.3);\n      }\n      \n      /* 포켓몬 버튼 스타일 - 인터랙션 강화! */\n      .pokemon-button {\n        background: linear-gradient(135deg, var(--pokemon-gold) 0%, var(--pokemon-orange) 100%);\n        color: var(--pokemon-black);\n        border: 3px solid var(--pokemon-black);\n        border-radius: 8px;\n        padding: 12px 24px;\n        font-family: 'Galmuri11', 'Galmuri9', monospace;\n        font-weight: bold;\n        font-size: 1rem;\n        cursor: pointer;\n        min-height: 44px; /* 터치 친화적 최소 크기 */\n        box-shadow: 3px 3px 0px rgba(0,0,0,0.4);\n        transition: all 0.15s ease;\n        position: relative;\n        overflow: hidden;\n      }\n      \n      .pokemon-button:hover {\n        transform: translateY(-2px);\n        box-shadow: 5px 5px 0px rgba(0,0,0,0.4);\n        background: linear-gradient(135deg, #FFDC00 0%, #FF8C42 100%); /* 약간 더 밝게 */\n      }\n      \n      .pokemon-button:active {\n        transform: translateY(1px);\n        box-shadow: 2px 2px 0px rgba(0,0,0,0.4);\n      }\n      \n      /* 버튼 클릭 피드백 애니메이션 */\n      .pokemon-button:focus {\n        outline: none;\n        box-shadow: 0 0 0 3px rgba(255, 215, 0, 0.5), 3px 3px 0px rgba(0,0,0,0.4);\n      }\n      \n      /* 위기 번쩍거림 효과 - 타이머용 (파란색) */\n      @keyframes pokemon-danger-blink {\n        0%, 50% { \n          background-color: rgba(59, 130, 246, 0.2);\n          border-color: #3B82F6;\n        }\n        51%, 100% { \n          background-color: transparent;\n          border-color: var(--pokemon-black);\n        }\n      }\n      \n      .pokemon-danger {\n        animation: pokemon-danger-blink 1.5s infinite;\n      }\n      \n      /* 광고 번쩍거림 효과 - 은은한 초록색 */\n      @keyframes pokemon-ad-blink {\n        0%, 50% { \n          background-color: rgba(34, 197, 94, 0.08);\n          border-color: rgba(34, 197, 94, 0.2);\n        }\n        51%, 100% { \n          background-color: transparent;\n          border-color: var(--pokemon-black);\n        }\n      }\n      \n      .pokemon-ad-blink {\n        animation: pokemon-ad-blink 2.2s infinite;\n      }\n      \n      /* 레트로 타이핑 효과 */\n      @keyframes pokemon-typing {\n        0%, 50% { opacity: 1; }\n        51%, 100% { opacity: 0; }\n      }\n      \n      .pokemon-typing::after {\n        content: \"▋\";\n        animation: pokemon-typing 0.8s infinite;\n        color: var(--pokemon-black);\n      }\n      \n      /* 포켓몬 게임 화면 배경 - 더 밝고 선명하게! */\n      .pokemon-screen {\n        background: \n          linear-gradient(135deg, var(--pokemon-bg) 0%, #F0F8FF 50%, var(--pokemon-light-blue) 100%),\n          radial-gradient(circle at 25% 25%, rgba(255, 215, 0, 0.1) 0%, transparent 50%);\n        min-height: 100vh;\n        position: relative;\n      }\n      \n      /* 포켓몬 게임 메인 윈도우 - 더 넓은 가로 크기 */\n      .pokemon-window {\n        background: var(--pokemon-white);\n        border: 6px solid var(--pokemon-black);\n        border-radius: 12px;\n        box-shadow: \n          inset 4px 4px 0px rgba(255,255,255,0.5),\n          inset -4px -4px 0px rgba(0,0,0,0.3),\n          8px 8px 16px rgba(0,0,0,0.4);\n      }\n      \n      /* PC 친화적 가로형 그리드 - 랭킹 섹션 비중 증가 */\n      .pokemon-grid {\n        display: grid;\n        grid-template-columns: 1.2fr 0.8fr 1.4fr; /* 타이머:광고:랭킹 = 1.2:0.8:1.4 비율 (타이머 줄임) */\n        gap: 24px;\n        padding: 28px;\n      }\n      \n      @media (max-width: 1200px) {\n        .pokemon-grid {\n          grid-template-columns: 1fr;\n          gap: 20px;\n          padding: 20px;\n        }\n      }\n      \n      @media (max-width: 768px) {\n        .pokemon-grid {\n          gap: 16px;\n          padding: 16px;\n        }\n      }\n      \n      /* 통계 바 포켓몬 스타일 - 깔끔하게 단순화! */\n      .pokemon-stats {\n        background: linear-gradient(90deg, var(--pokemon-navy) 0%, var(--pokemon-border) 100%);\n        color: var(--pokemon-white);\n        border: 3px solid var(--pokemon-black);\n        border-radius: 8px;\n        padding: 16px 24px;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-bottom: 24px;\n        /* 간단한 그림자만 */\n        box-shadow: 3px 3px 0px rgba(0,0,0,0.3);\n      }\n      \n      /* 타이머 대형 디스플레이 - 반응형 개선 & 동적 색상! */\n      .pokemon-timer {\n        font-family: 'Galmuri14', 'Galmuri11', monospace;\n        font-weight: bold;\n        font-size: clamp(2.5rem, 5vw, 4rem); /* 반응형 크기 */\n        /* color와 text-shadow는 JavaScript에서 동적으로 설정 */\n        text-align: center;\n        padding: 24px;\n        background: var(--pokemon-white);\n        border: 4px solid var(--pokemon-black);\n        border-radius: 12px;\n        min-height: 120px; /* 최소 높이 보장 */\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: color 0.5s ease, text-shadow 0.5s ease; /* 부드러운 색상 전환 */\n        /* 타이머만 예외적으로 그림자 유지 */\n        box-shadow: 4px 4px 0px rgba(0,0,0,0.4);\n      }\n      \n      /* 랭킹 섹션 포켓몬 스타일 - 20위까지 보여주기 + 가로폭 확장 */\n      .pokemon-ranking {\n        background: var(--pokemon-white);\n        border: 4px solid var(--pokemon-black);\n        border-radius: 8px;\n        max-height: 650px; /* 600px에서 650px로 증가 */\n        max-width: 100%;\n        overflow-x: hidden;\n        overflow-y: auto;\n        word-wrap: break-word;\n      }\n      \n      .pokemon-ranking::-webkit-scrollbar {\n        width: 8px;\n      }\n      \n      .pokemon-ranking::-webkit-scrollbar-track {\n        background: var(--pokemon-white);\n        border: 1px solid var(--pokemon-black);\n      }\n      \n      .pokemon-ranking::-webkit-scrollbar-thumb {\n        background: var(--pokemon-orange);\n        border: 1px solid var(--pokemon-black);\n        border-radius: 4px;\n      }\n      \n      /* 축하 이펙트 포켓몬 스타일 */\n      .pokemon-celebration {\n        position: fixed;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        z-index: 9999;\n        text-align: center;\n        background: var(--pokemon-white);\n        border: 6px solid var(--pokemon-black);\n        border-radius: 16px;\n        padding: 32px;\n        box-shadow: \n          inset 4px 4px 0px rgba(255,255,255,0.5),\n          inset -4px -4px 0px rgba(0,0,0,0.3),\n          12px 12px 24px rgba(0,0,0,0.6);\n      }\n      \n      /* 마우스 호버 효과 - 간단하게! */\n      .pokemon-hover:hover {\n        transform: translateY(-2px);\n        /* 간단한 호버 효과만 */\n        box-shadow: 6px 6px 0px rgba(0,0,0,0.3);\n        transition: all 0.2s ease;\n      }\n      \n      /* 메시지 섹션 스타일 강화 */\n      .pokemon-message {\n        transition: all 0.3s ease;\n        position: relative;\n        overflow: hidden;\n      }\n      \n      .pokemon-message::before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: -100%;\n        width: 100%;\n        height: 100%;\n        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);\n        transition: left 0.5s ease;\n      }\n      \n      .pokemon-message:hover::before {\n        left: 100%;\n      }\n      \n      /* 반응형 그리드 개선 */\n      @media (max-width: 768px) {\n        .pokemon-grid {\n          padding: 12px;\n          gap: 12px;\n        }\n        \n        .pokemon-stats {\n          flex-direction: column;\n          gap: 8px;\n          text-align: center;\n          padding: 12px 16px;\n        }\n        \n        .pokemon-title {\n          font-size: 2rem;\n        }\n        \n        .pokemon-button {\n          width: 100%;\n          justify-content: center;\n        }\n      }\n      \n      /* 날아가는 메시지 애니메이션 */\n      @keyframes slide-in-right {\n        from {\n          transform: translateX(100%);\n          opacity: 0;\n        }\n        to {\n          transform: translateX(0);\n          opacity: 1;\n        }\n      }\n      \n      .animate-slide-in-right {\n        animation: slide-in-right 0.3s ease-out;\n      }\n      \n      @keyframes fly-across {\n        from {\n          transform: translateX(-100vw);\n        }\n        to {\n          transform: translateX(100vw);\n        }\n      }\n      \n      .animate-fly-across {\n        animation: fly-across 8s linear;\n      }\n      \n      @keyframes float {\n        0%, 100% {\n          transform: translateY(0px);\n        }\n        50% {\n          transform: translateY(-10px);\n        }\n      }\n      \n      .animate-float {\n        animation: float 3s ease-in-out infinite;\n      }\n      \n      /* 🏆 VIP 랭킹 컨테이너 - 새로운 티어 이펙트 전용 */\n      .vip-rank-container {\n        overflow: hidden;\n        position: relative;\n      }\n      \n      /* 🎨 헤더 배경 이미지 스타일 */\n      .header-with-background {\n        background-image: url('/images/header-background.jpeg'); /* 메인 이미지 */\n        background-size: cover;\n        background-position: center;\n        background-repeat: no-repeat;\n        position: relative;\n        overflow: hidden;\n        \n        /* 이미지가 없을 경우를 위한 fallback 배경 */\n        background-color: var(--pokemon-white);\n        \n        /* 이미지 위에 반투명 오버레이 (텍스트 가독성을 위해) */\n      }\n      \n      .header-with-background::before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background: rgba(0, 0, 0, 0.4); /* 검은색 반투명 오버레이 (가독성 향상) */\n        z-index: 1;\n      }\n      \n      .header-with-background > * {\n        position: relative;\n        z-index: 2; /* 오버레이 위에 텍스트가 보이도록 */\n      }\n      \n      /* 다크한 이미지일 경우를 위한 대체 스타일 (클래스 추가로 전환 가능) */\n      .header-with-background.dark-image::before {\n        background: rgba(0, 0, 0, 0.6); /* 더 진한 검은색 오버레이 */\n      }\n      \n      .header-with-background .pokemon-title {\n        color: var(--pokemon-white); /* 흰색 텍스트로 변경 */\n        text-shadow: \n          3px 3px 0px var(--pokemon-black),\n          -1px -1px 0px rgba(255, 255, 255, 0.2),\n          2px 2px 8px rgba(0, 0, 0, 0.8); /* 추가 그림자 */\n      }\n      \n      .header-with-background .pokemon-subtitle {\n        color: var(--pokemon-white); /* 흰색 텍스트로 변경 */\n        text-shadow: \n          2px 2px 0px var(--pokemon-black),\n          1px 1px 4px rgba(0, 0, 0, 0.9); /* 강한 그림자 */\n      }\n      \n      .header-with-background .pokemon-font {\n        color: var(--pokemon-white); /* 흰색 텍스트로 변경 */\n        text-shadow: \n          1px 1px 0px var(--pokemon-black),\n          1px 1px 3px rgba(0, 0, 0, 0.8); /* 선명한 그림자 */\n      }\n      \n      /* 🎵 플로팅 BGM 컴트롤러 스타일 */\n      .floating-bgm-controller {\n        position: fixed;\n        bottom: 20px;\n        right: 20px;\n        z-index: 50;\n        transition: all 0.3s ease;\n      }\n      \n      .floating-bgm-controller:hover {\n        transform: scale(1.05);\n        bottom: 22px;\n      }\n      \n      /* 🎆 모달 애니메이션 추가 */\n      @keyframes bounce-in {\n        0% {\n          transform: translate(-50%, -50%) scale(0.3);\n          opacity: 0;\n        }\n        50% {\n          transform: translate(-50%, -50%) scale(1.05);\n        }\n        70% {\n          transform: translate(-50%, -50%) scale(0.9);\n        }\n        100% {\n          transform: translate(-50%, -50%) scale(1);\n          opacity: 1;\n        }\n      }\n      \n      .animate-bounce-in {\n        animation: bounce-in 0.5s ease-out;\n      }\n      \n      /* 헤더 배경이 있을 때 키보드 단축키 강조 */\n      .header-with-background kbd {\n        background: var(--pokemon-black) !important;\n        color: var(--pokemon-white) !important;\n        border: 2px solid var(--pokemon-white) !important;\n        box-shadow: \n          2px 2px 0px rgba(0, 0, 0, 0.8),\n          0 0 8px rgba(255, 255, 255, 0.3) !important;\n        font-weight: bold !important;\n        font-size: 0.75rem !important;\n      }\n      \n\n    ",document.head.appendChild(e);const t=e=>{"Enter"===e.key||" "===e.key?(e.preventDefault()," "===e.key&&(()=>{try{const e=new Audio("/sounds/space.mp3");e.volume=.3,e.play().catch((e=>{}))}catch(dt){}})(),M()):"Escape"===e.key&&(e.preventDefault(),R())};return document.addEventListener("keydown",t),()=>{document.head.contains(e)&&document.head.removeChild(e),document.removeEventListener("keydown",t)}}),[M,R]),T.jsxs("div",{className:"pokemon-screen",children:[T.jsxs("div",{className:"pokemon-window max-w-[1500px] mx-auto my-8 relative",children:[T.jsxs("div",{className:"text-center py-6 border-b-4 border-black relative header-with-background",children:[T.jsxs("h1",{className:"pokemon-title mb-3",children:["시간 낭비 ",T.jsx("span",{className:"text-yellow-500",children:"마스터"})]}),T.jsx("p",{className:"pokemon-subtitle "+(x?"animating":""),children:m}),T.jsxs("div",{className:"mt-4 pokemon-font text-sm",children:["🔄🎵 ",T.jsx("kbd",{className:"px-2 py-1 bg-black text-white border-2 border-white rounded text-xs font-bold shadow-lg",children:"SPACE"})," 메시지 새로고침 (효과음) | 💫 ",T.jsx("kbd",{className:"px-2 py-1 bg-black text-white border-2 border-white rounded text-xs font-bold shadow-lg ml-2",children:"ESC"})," 게임 종료"]})]}),T.jsxs("div",{className:"pokemon-stats",children:[T.jsxs("div",{className:"pokemon-font",children:["동시 접속자: ",T.jsxs("span",{className:"text-yellow-300",children:[I,"명"]})]}),T.jsxs("div",{className:"pokemon-font",children:["전체 방문 횟수: ",T.jsxs("span",{className:"text-yellow-300",children:[v,"회"]})]}),T.jsxs("div",{className:"pokemon-font",children:["누적 낭비시간: ",T.jsxs("span",{className:"text-yellow-300",children:[Math.floor(k/3600),"시간 ",Math.floor(k%3600/60),"분"]})]})]}),T.jsxs("div",{className:"pokemon-grid",children:[T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"pokemon-dialog pokemon-hover relative",children:[T.jsxs("div",{className:"text-center mb-4",children:[T.jsx("div",{className:"pokemon-font text-xl text-gray-700 mb-2",children:"현재 낭비 시간"}),T.jsx("div",{className:"pokemon-timer "+(N?"pokemon-danger":""),style:ot(h),children:be(h)})]}),N&&T.jsx("div",{className:"text-center",children:T.jsx("div",{className:"pokemon-font text-lg animate-bounce",style:{color:ot(h).color},children:"⚠️ 위험! 시간이 너무 많이 낭비되었습니다!"})})]}),T.jsxs("div",{className:"pokemon-dialog pokemon-hover relative",children:[T.jsx("div",{className:"pokemon-font text-lg mb-4 text-gray-800",children:"당신을 위한 잔소리..아니 조언 해드립니다"}),T.jsx("div",{className:`pokemon-message text-black text-lg font-bold leading-relaxed mb-6 p-4 rounded-lg border-2 ${lt((null==u?void 0:u.type)||"default")} ${S?"pokemon-typing":""}`,children:g}),T.jsx("div",{className:"text-center",children:T.jsx("button",{onClick:()=>{try{const e=new Audio("/sounds/space.mp3");e.volume=.3,e.play().catch((()=>{}))}catch(dt){}M()},className:"pokemon-button",children:"🎵 다른 조언 듣기"})})]}),T.jsxs("div",{className:"pokemon-dialog pokemon-hover text-center bg-red-50 border-red-300",children:[T.jsx("div",{className:"pokemon-font text-xl mb-4 text-red-800 font-bold",children:"🚨 현실로 돌아가기 🚨"}),T.jsx("div",{className:"flex justify-center",children:T.jsx(Ee,{elapsedTime:h,onExit:R,inline:!0,showAlways:!0})}),T.jsx("div",{className:"mt-3 text-sm text-red-600 pokemon-font",children:"너무 오래 있으면 정말 위험해요!"})]})]}),T.jsxs("div",{className:"space-y-6",children:[T.jsx(ue,{showAd:f,adMessage:y,extremeMode:N,elapsedTime:h,onProductClick:L,adCooldownInfo:t}),T.jsxs("div",{className:"pokemon-dialog pokemon-hover",children:[T.jsx("div",{className:"pokemon-font text-lg mb-4 text-gray-800",children:"😍 친구들도 시간낭비 시키기"}),T.jsx(Ie,{elapsedTime:h,formatTime:be,showModernModal:D})]})]}),T.jsxs("div",{className:"pokemon-dialog pokemon-hover",children:[T.jsx("div",{className:"pokemon-font text-lg mb-4 text-gray-800",children:"시간낭비 명예의 전당"}),T.jsx("div",{className:"pokemon-ranking overflow-hidden",children:T.jsx(_e,{isVisible:!0,currentUser:C,elapsedTime:h})})]})]}),T.jsxs("div",{className:"pokemon-stats mt-6",children:[T.jsx("div",{className:"pokemon-font text-sm",children:"🌍 전 세계 시간낭비자들과 함께 하는 매직타임!"}),T.jsx("div",{className:"pokemon-font text-sm",children:"💻 시간 낭비 마스터 v1.0"})]}),T.jsx(qe,{})]}),T.jsx("div",{className:"floating-bgm-controller",children:T.jsx(Be,{elapsedTime:h,compact:!0})}),T.jsx(Ce,{elapsedTime:h}),T.jsx(Ge,{elapsedTime:h,onAdCooldownChange:n,chatTokens:s,setChatTokens:a,premiumTokens:r,setPremiumTokens:o}),!1,T.jsx(De,{isVisible:!1,onOpenRankingTest:(e=300)=>{l(!0),d(e)}}),T.jsx(ye,{isOpen:F,onClose:z,onConfirm:H,onExit:U,elapsedTime:h,currentUser:C,totalTimeWasted:k,visits:v,adClicks:w}),T.jsx(ye,{isOpen:i,onClose:V,onConfirm:()=>{l(!1)},onExit:V,elapsedTime:c,currentUser:C,totalTimeWasted:3*c,visits:Math.floor(c/60)+10,adClicks:Math.floor(c/180)+2}),T.jsx(ge,{isOpen:_,onClose:()=>P(!1),onConfirm:"exit"===$.type?H:()=>P(!1),title:$.title,message:$.message,type:$.type,showCancel:$.showCancel})]})}I.createRoot(document.getElementById("root")).render(T.jsx(n.StrictMode,{children:T.jsx(ct,{})}));
